---

title: Structure IO


keywords: fastai
sidebar: home_sidebar

summary: "This includes generating POSCAR form <a href='https://materialsproject.org/'>Materials Project</a>. You need their API key to run functions in this module where required."
description: "This includes generating POSCAR form <a href='https://materialsproject.org/'>Materials Project</a>. You need their API key to run functions in this module where required."
nb_path: "StructureIO.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: StructureIO.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Note</strong> : To use materials project data frequently, you may need to save their api key into file. Run function below and it saves key to a file and every function will autoload it.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="Arrow3D" class="doc_header"><code>class</code> <code>Arrow3D</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/sio.py#L36" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>Arrow3D</code>(<strong><code>x</code></strong>, <strong><code>y</code></strong>, <strong><code>z</code></strong>, <strong><code>u</code></strong>, <strong><code>v</code></strong>, <strong><code>w</code></strong>, <strong>*<code>args</code></strong>, <strong>**<code>kwargs</code></strong>) :: <code>FancyArrowPatch</code></p>
</blockquote>
<p>Draw 3D fancy arrow.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="fancy_quiver3d" class="doc_header"><code>fancy_quiver3d</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/sio.py#L51" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>fancy_quiver3d</code>(<strong><code>X</code></strong>, <strong><code>Y</code></strong>, <strong><code>Z</code></strong>, <strong><code>U</code></strong>, <strong><code>V</code></strong>, <strong><code>W</code></strong>, <strong><code>ax</code></strong>=<em><code>None</code></em>, <strong><code>C</code></strong>=<em><code>'r'</code></em>, <strong><code>L</code></strong>=<em><code>0.7</code></em>, <strong><code>mutation_scale</code></strong>=<em><code>10</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Plots 3D arrows on a given ax. See <a href="https://matplotlib.org/3.1.1/api/_as_gen/matplotlib.patches.FancyArrowPatch.html">FancyArrowPatch</a>.</p>
<ul>
<li><strong>Parameters</strong><ul>
<li>X, Y, Z : 1D arrays of coordinates of arrows' tail point.</li>
<li>U, V, W : 1D arrays of dx,dy,dz of arrows.</li>
<li>ax: 3D axes, if not given, auto created.</li>
<li>C : 1D colors array mapping for arrows. Could be one color.</li>
<li>L : 1D linwidths array mapping for arrows. Could be one linewidth.</li>
<li>mutation_scale: Arrow head width/size scale. Default is 10.</li>
<li>kwargs: FancyArrowPatch's keyword arguments excluding positions,color, lw and mutation_scale, shrinkA, shrinkB which are already used. An important keyword argument is <code>arrowstyle</code> which could be '-&gt;','-|&gt;', their inverted forms and many more. See on matplotlib.</li>
</ul>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">field</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">):</span>
    <span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">w</span> <span class="o">=</span> <span class="n">y</span><span class="p">,</span> <span class="o">-</span><span class="n">x</span> <span class="p">,</span> <span class="n">z</span>
    <span class="n">norm</span> <span class="o">=</span> <span class="mi">5</span><span class="o">*</span><span class="p">(</span><span class="n">u</span><span class="o">*</span><span class="n">u</span> <span class="o">+</span> <span class="n">v</span><span class="o">*</span><span class="n">v</span> <span class="o">+</span> <span class="n">w</span><span class="o">*</span><span class="n">w</span><span class="p">)</span><span class="o">**</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">norm</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">,</span><span class="mf">0.01</span><span class="p">,</span><span class="mf">0.01</span><span class="p">,</span><span class="mf">0.01</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">,</span> <span class="n">u</span><span class="o">/</span><span class="n">norm</span><span class="p">,</span> <span class="n">v</span><span class="o">/</span><span class="n">norm</span><span class="p">,</span> <span class="n">w</span><span class="o">/</span><span class="n">norm</span><span class="p">)</span>

<span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">Z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mgrid</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="mi">10</span><span class="n">j</span><span class="p">,</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="mi">10</span><span class="n">j</span><span class="p">,</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="n">j</span><span class="p">]</span>
<span class="n">vs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">([</span><span class="n">X</span><span class="o">.</span><span class="n">ravel</span><span class="p">(),</span><span class="n">Y</span><span class="o">.</span><span class="n">ravel</span><span class="p">(),</span><span class="n">Z</span><span class="o">.</span><span class="n">ravel</span><span class="p">()])</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">T</span>

<span class="n">ef</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">field</span><span class="p">(</span><span class="o">*</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">vs</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>

<span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">ef</span><span class="p">[</span><span class="mi">3</span><span class="p">:,:]</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
<span class="n">C</span> <span class="o">=</span> <span class="n">C</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">C</span><span class="p">)</span>

<span class="n">ax1</span><span class="p">,</span> <span class="n">ax2</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">init_figure</span><span class="p">(</span><span class="n">ncols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="n">axes_3d</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="n">bz</span> <span class="o">=</span> <span class="n">get_bz</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]],</span><span class="n">primitive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">splot_bz</span><span class="p">(</span><span class="n">bz</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax1</span><span class="p">,</span><span class="n">vname</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="n">fill</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mf">0.8</span><span class="p">,</span><span class="mf">0.7</span><span class="p">,</span><span class="mf">0.2</span><span class="p">,</span><span class="mf">0.7</span><span class="p">))</span>
<span class="n">splot_bz</span><span class="p">(</span><span class="n">bz</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax2</span><span class="p">,</span><span class="n">vname</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="n">fill</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mf">0.8</span><span class="p">,</span><span class="mf">0.7</span><span class="p">,</span><span class="mf">0.2</span><span class="p">,</span><span class="mf">0.7</span><span class="p">))</span>

<span class="n">fancy_quiver3d</span><span class="p">(</span><span class="o">*</span><span class="n">ef</span><span class="p">,</span><span class="n">C</span> <span class="o">=</span> <span class="n">C</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax1</span><span class="p">,</span><span class="n">L</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span><span class="n">mutation_scale</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span><span class="n">capstyle</span><span class="o">=</span><span class="s1">&#39;butt&#39;</span><span class="p">,</span><span class="n">arrowstyle</span><span class="o">=</span><span class="s1">&#39;wedge&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_box_aspect</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Fancy Quiver 3D&#39;</span><span class="p">)</span>

<span class="c1"># Repeat for each body line and two head lines</span>
<span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">([</span><span class="n">C</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)])</span>
<span class="n">q</span> <span class="o">=</span> <span class="n">ax2</span><span class="o">.</span><span class="n">quiver</span><span class="p">(</span><span class="o">*</span><span class="n">ef</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">colors</span><span class="o">=</span><span class="n">C</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Default Quiver 3D&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_box_aspect</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="save_mp_API" class="doc_header"><code>save_mp_API</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/sio.py#L77" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>save_mp_API</code>(<strong><code>api_key</code></strong>)</p>
</blockquote>
<ul>
<li>Save materials project api key for autoload in functions.</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="load_mp_data" class="doc_header"><code>load_mp_data</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/sio.py#L96" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>load_mp_data</code>(<strong><code>formula</code></strong>, <strong><code>api_key</code></strong>=<em><code>None</code></em>, <strong><code>mp_id</code></strong>=<em><code>None</code></em>, <strong><code>max_sites</code></strong>=<em><code>None</code></em>, <strong><code>min_sites</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<ul>
<li>Returns fetched data using request api of python form materials project website.</li>
<li><strong>Parameters</strong><ul>
<li>formula  : Material formula such as 'NaCl'.</li>
<li>api_key  : API key for your account from material project site. Auto picks if you already used <a href="/pivotpy/StructureIO.html#save_mp_API"><code>save_mp_API</code></a> function.</li>
<li>mp_id     : Optional, you can specify material ID to filter results.</li>
<li>max_sites : Maximum number of sites. If None, sets <code>min_sites + 1</code>, if <code>min_sites = None</code>, gets all data.</li>
<li>min_sites : Minimum number of sites. If None, sets <code>max_sites + 1</code>, if <code>max_sites = None</code>, gets all data.</li>
</ul>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_crystal" class="doc_header"><code>get_crystal</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/sio.py#L151" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_crystal</code>(<strong><code>formula</code></strong>, <strong><code>api_key</code></strong>=<em><code>None</code></em>, <strong><code>mp_id</code></strong>=<em><code>None</code></em>, <strong><code>max_sites</code></strong>=<em><code>None</code></em>, <strong><code>min_sites</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<ul>
<li>Returns crystal information dictionary including cif data format.</li>
<li><strong>Parameters</strong><ul>
<li>formula  : Material formula such as 'NaCl'.</li>
<li>api_key  : API key for your account from material project site. Auto picks if you already used <a href="/pivotpy/StructureIO.html#save_mp_API"><code>save_mp_API</code></a> function.</li>
<li>mp_id    : Optional, you can specify material ID to filter results.</li>
<li>max_sites : Maximum number of sites. If None, sets <code>min_sites + 1</code>, if <code>min_sites = None</code>, gets all data.</li>
<li>min_sites : Minimum number of sites. If None, sets <code>max_sites + 1</code>, if <code>max_sites = None</code>, gets all data.</li>
</ul>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_poscar" class="doc_header"><code>get_poscar</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/sio.py#L174" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_poscar</code>(<strong><code>formula</code></strong>, <strong><code>api_key</code></strong>=<em><code>None</code></em>, <strong><code>mp_id</code></strong>=<em><code>None</code></em>, <strong><code>max_sites</code></strong>=<em><code>None</code></em>, <strong><code>min_sites</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<ul>
<li>Returns poscar information dictionary including cif data format.</li>
<li><strong>Parameters</strong><ul>
<li>formula  : Material formula such as 'NaCl'.</li>
<li>api_key  : API key for your account from material project site. Auto picks if you already used <a href="/pivotpy/StructureIO.html#save_mp_API"><code>save_mp_API</code></a> function.</li>
<li>mp_id    : Optional, you can specify material ID to filter results.</li>
<li>max_sites : Maximum number of sites. If None, sets <code>min_sites + 1</code>, if <code>min_sites = None</code>, gets all data.</li>
<li>min_sites : Minimum number of sites. If None, sets <code>max_sites + 1</code>, if <code>max_sites = None</code>, gets all data.</li>
</ul>
</li>
<li><strong>Usage</strong><ul>
<li><code>get_poscar('GaAs',api_key,**kwargs)</code>. Same result is returned from <code>Get-POSCAR</code> command in PowerShell terminal if Vasp2Visual module is installed.</li>
</ul>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pc</span> <span class="o">=</span> <span class="n">get_poscar</span><span class="p">(</span><span class="s1">&#39;GaAs&#39;</span><span class="p">,</span><span class="n">max_sites</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">min_sites</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;material_id: &quot;</span><span class="p">,</span><span class="n">pc</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">mp_id</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;spacegroup symbol: &quot;</span><span class="p">,</span><span class="n">pc</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">symbol</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span><span class="n">pc</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">poscar</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_kpath" class="doc_header"><code>get_kpath</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/sio.py#L245" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_kpath</code>(<strong><code>hsk_list</code></strong>=<em><code>[]</code></em>, <strong><code>labels</code></strong>=<em><code>[]</code></em>, <strong><code>n</code></strong>=<em><code>5</code></em>, <strong><code>weight</code></strong>=<em><code>None</code></em>, <strong><code>ibzkpt</code></strong>=<em><code>None</code></em>, <strong><code>outfile</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<ul>
<li>Generate list of kpoints along high symmetry path. Options are write to file or return KPOINTS list. It generates uniformly spaced point with input <code>n</code> as just a scale factor of number of points per unit length. You can also specify custom number of kpoints in an interval by putting number of kpoints as 4th entry in left kpoint.</li>
<li><strong>Parameters</strong><ul>
<li>hsk_list : N x 3 list of N high symmetry points, if broken path then [[N x 3],[M x 3],...]. Optionally you can put a 4 values point where 4th entry will decide number of kpoints in current interval. Make sure that points in a connected path patch are at least two i.e. <code>[[x1,y1,z1],[x2,y2,z2]]</code> or <code>[[x1,y1,z1,N],[x2,y2,z2]]</code>.</li>
<li>n        ; int, number per unit length, this makes uniform steps based on distance between points.</li>
<li>weight : Float, if None, auto generates weights.</li>
<li>ibzkpt : Path to ibzkpt file, required for HSE calculations.</li>
<li>labels : Hight symmetry points labels. Good for keeping record of lables and points indices for later use.                - Note: If you do not want to label a point, label it as 'skip' at its index and it will be removed.</li>
<li>outfile: Path/to/file to write kpoints.</li>
</ul>
</li>
</ul>
<p>If <code>outfile = None</code>, KPONITS file content is printed.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="read_ticks" class="doc_header"><code>read_ticks</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/sio.py#L307" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>read_ticks</code>(<strong><code>kpoints_file_path</code></strong>)</p>
</blockquote>
<p>Reads ticks values and labels in header of kpoint file. Returns dictionary of <code>ktick_inds</code>,<code>ktick_vals</code>,<code>kseg_inds</code> that can be unpacked to plotting functions. If not exist in header, returns empty values(still valid).</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">read_ticks</span><span class="p">(</span><span class="s1">&#39;kpt.txt&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In example below, the overall value of <code>n = 5</code> is skipped and 4th entry in the point is used instead. In later example, a 'skipk' label removes high symmetry point index.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">get_kpath</span><span class="p">([[</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]],</span><span class="n">n</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">ibzkpt</span><span class="o">=</span><span class="s1">&#39;IBZKPT&#39;</span><span class="p">,</span><span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;M&#39;</span><span class="p">,</span><span class="s1">&#39;Γ&#39;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">get_kpath</span><span class="p">([[[</span><span class="mf">0.375</span><span class="p">,</span><span class="mf">0.375</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">21</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]],[[</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.25</span><span class="p">,</span><span class="mf">0.5</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]],[[</span><span class="mf">0.25</span><span class="p">,</span><span class="mf">0.25</span><span class="p">,</span><span class="mf">0.25</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]]],</span><span class="n">n</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span><span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;M&#39;</span><span class="p">,</span><span class="s1">&#39;skip&#39;</span><span class="p">,</span><span class="s1">&#39;Γ|M&#39;</span><span class="p">,</span><span class="s1">&#39;L&#39;</span><span class="p">],</span><span class="n">outfile</span><span class="o">=</span><span class="s1">&#39;kpt.txt&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span></span>Automatically generated using PivotPy with HSK-INDS <span class="o">=</span> <span class="o">[</span><span class="m">0</span>, <span class="m">29</span>, -1<span class="o">]</span>, <span class="nv">LABELS</span> <span class="o">=</span> <span class="o">[</span><span class="s1">&#39;M&#39;</span>, <span class="s1">&#39;Γ|M&#39;</span>, <span class="s1">&#39;L&#39;</span><span class="o">]</span>, SEG-INDS <span class="o">=</span> <span class="o">[</span><span class="m">21</span>, <span class="m">29</span><span class="o">]</span>
    <span class="m">34</span>
</pre></div>
<p><code>HSK-INDS = [0, 29, -1]</code> should be <code>[0,21,29,-1]</code> but <code>skip</code> label removed it. Also after 21, it may have 32 as n=11, but distance smaller than 1 resulted in only 8 points there. This is pretty useful if you don't need to rescale kpoint axis later on based on distance.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="export_poscar" class="doc_header"><code>export_poscar</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/sio.py#L324" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>export_poscar</code>(<strong><code>path</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<p>Export POSCAR file to python objects.</p>
<ul>
<li><strong>Parameters</strong><ul>
<li>path: Path/to/POSCAR file. Auto picks in CWD.</li>
</ul>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_basis" class="doc_header"><code>get_basis</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/sio.py#L360" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_basis</code>(<strong><code>path_pos</code></strong>)</p>
</blockquote>
<p>Returns given(computed) and inverted(without 2π) basis as tuple(given,inverted).</p>
<ul>
<li><strong>Parameters</strong><ul>
<li>path_pos: path/to/POSCAR or 3 given vectors as rows of a matrix.</li>
</ul>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">get_basis</span><span class="p">([[</span> <span class="mf">4.00771850e+00</span><span class="p">,</span>  <span class="mf">0.00000000e+00</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.00000000e+00</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">2.00385925e+00</span><span class="p">,</span>  <span class="mf">3.47078603e+00</span><span class="p">,</span>  <span class="mf">5.06700000e-13</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">2.00385925e+00</span><span class="p">,</span>  <span class="mf">1.15692868e+00</span><span class="p">,</span>  <span class="mf">3.27228845e+00</span><span class="p">]])</span><span class="o">.</span><span class="n">inverted</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="KPOINTS-Mesh-for-Fermi-Surface-Calculations">KPOINTS Mesh for Fermi Surface Calculations<a class="anchor-link" href="#KPOINTS-Mesh-for-Fermi-Surface-Calculations"> </a></h2><ul>
<li>The command <a href="/pivotpy/StructureIO.html#get_kmesh"><code>get_kmesh</code></a> generates a uniform grid in first (primitive) Brillouin zone.</li>
<li>The POSCAR is used to get ratios of side lengths in first BZ. Use relaxed and same POSCAR you will use in actual calculations. If you use Vasp's auto generated mesh, use ISYM = -1 to list all points and points inside BZ will be filtered later on while plotting Fermi Surface.</li>
<li>KPOINTS are written on <code>outfile</code> provided, if <code>outfile = None</code>, thn BZ data object is returned. </li>
<li>IBZKPT file path could be given to argument <code>ibzkpt</code> to include it automatically, this is important to include for HSE calculations with <code>weight = 0</code>. If <code>weight = None</code>, weights are distributed uniformly.</li>
<li>If you provide <code>n_xyz = integer</code>,(recommended for auto uniform mesh), all sides have same number of points unless you provide <code>path_pos</code> too, in that case <code>n_xyz</code> is chosen for smallest side in reciprocal space and other sides are scaled based on their lengths according to given POSCAR. </li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_kmesh" class="doc_header"><code>get_kmesh</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/sio.py#L376" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_kmesh</code>(<strong><code>n_xyz</code></strong>=<em><code>[5, 5, 5]</code></em>, <strong><code>weight</code></strong>=<em><code>None</code></em>, <strong><code>ibzkpt</code></strong>=<em><code>None</code></em>, <strong><code>path_pos</code></strong>=<em><code>None</code></em>, <strong><code>outfile</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<ul>
<li>Generates uniform mesh of kpoints. Options are write to file, or return KPOINTS list.</li>
<li><strong>Parameters</strong><ul>
<li>n_xyz  : List of [nx ny nz] or integer. If integer given, it represents numbers of kpoints along smallest side in reciprocal space and kmesh is autoscaled.</li>
<li>weight : Float, if None, auto generates weights.</li>
<li>ibzkpt : Path to ibzkpt file, required for HSE calculations.</li>
<li>path_pos : POSCAR file path or real space lattice vectors, if None, cubic symmetry is used and it is fast.</li>
<li>outfile: Path/to/file to write kpoints.</li>
</ul>
</li>
</ul>
<p>If <code>outfile = None</code>, KPOINTS file content is printed.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">get_kmesh</span><span class="p">(</span><span class="n">n_xyz</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span><span class="n">path_pos</span><span class="o">=</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.5</span><span class="p">]])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="tan_inv" class="doc_header"><code>tan_inv</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/sio.py#L432" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>tan_inv</code>(<strong><code>vy</code></strong>, <strong><code>vx</code></strong>)</p>
</blockquote>
<ul>
<li>Returns full angle from x-axis counter clockwise.</li>
<li><strong>Parameters</strong><ul>
<li>vy : Perpendicular componet of vector including sign.</li>
<li>vx : Base compoent of vector including sign.</li>
</ul>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="order" class="doc_header"><code>order</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/sio.py#L462" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>order</code>(<strong><code>points</code></strong>, <strong><code>loop</code></strong>=<em><code>True</code></em>)</p>
</blockquote>
<ul>
<li>Returns indices of counterclockwise ordered vertices of a plane in 3D.</li>
<li><strong>Parameters</strong><ul>
<li>points: numpy array of shape (N,3) or List[List(len=3)].</li>
<li>loop  : Default is True and appends start point at end to make a loop.</li>
</ul>
</li>
<li><strong>Example</strong><blockquote><p>pts = np.array([[1,0,3],[0,0,0],[0,1,2]])
inds = order(pts)
pts[inds]</p>

<pre><code>  array([[1, 2, 3],
         [0, 0, 0],
         [1, 0, 3]
         [0, 1, 2]])</code></pre>
</blockquote>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="out_bz_plane" class="doc_header"><code>out_bz_plane</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/sio.py#L507" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>out_bz_plane</code>(<strong><code>test_point</code></strong>, <strong><code>plane</code></strong>)</p>
</blockquote>
<ul>
<li>Returns True if test_point is between plane and origin. Could be used to sample BZ mesh in place of ConvexHull.</li>
<li><strong>Parameters</strong><ul>
<li>test_points: 3D point.</li>
<li>plane      : List of at least three coplanar 3D points.</li>
</ul>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="rad_angle" class="doc_header"><code>rad_angle</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/sio.py#L524" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>rad_angle</code>(<strong><code>v1</code></strong>, <strong><code>v2</code></strong>)</p>
</blockquote>
<ul>
<li>Returns interier angle between two vectors.</li>
<li><strong>Parameters</strong><ul>
<li>v1,v2 : Two vectors/points in 3D.</li>
</ul>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Interier Angle:&quot;</span><span class="p">,</span><span class="n">rad_angle</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">1</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Angle with x-axis:&quot;</span><span class="p">,</span><span class="n">tan_inv</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
<span class="n">pts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span>
<span class="n">inds</span> <span class="o">=</span> <span class="n">order</span><span class="p">(</span><span class="n">pts</span><span class="p">)</span>
<span class="n">pts</span><span class="p">[</span><span class="n">inds</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_bz" class="doc_header"><code>get_bz</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/sio.py#L538" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_bz</code>(<strong><code>path_pos</code></strong>=<em><code>None</code></em>, <strong><code>loop</code></strong>=<em><code>True</code></em>, <strong><code>digits</code></strong>=<em><code>8</code></em>, <strong><code>primitive</code></strong>=<em><code>False</code></em>)</p>
</blockquote>
<ul>
<li>Return required information to construct first Brillouin zone in form of tuple (basis, normals, vertices, faces).</li>
<li><strong>Parameters</strong><ul>
<li>path_pos : POSCAR file path or list of 3 vectors in 3D aslist[list,list,list].</li>
<li>loop   : If True, joins the last vertex of a BZ plane to starting vertex in order to complete loop.</li>
<li>digits : int, rounding off decimal places, no effect on intermediate calculations, just for pretty final results.</li>
<li>primitive: Defualt is False and returns Wigner-Seitz cell, If True returns parallelipiped in rec_basis.</li>
</ul>
</li>
<li><strong>Attributes</strong><ul>
<li>basis   : get_bz().basis, recprocal lattice basis.</li>
<li>normals : get_bz().normals, all vertors that are perpendicular BZ faces/planes.</li>
<li>vertices: get_bz().vertices, all vertices of BZ, could be input into ConvexHull for constructing 3D BZ.</li>
<li>faces   : get_bz().faces, vertices arranged into faces, could be input to Poly3DCollection of matplotlib for creating BZ from faces' patches.</li>
<li>specials : get_bz().specials, Data with attributes <code>coords</code>,<code>kpoints</code> and <code>near</code> in on-one correspondence for high symmetry KPOINTS in recirprocal coordinates space. <code>near</code> gives indices of nearest special points around a vertex. All vertices with z &gt; 0 are included.</li>
</ul>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">bbya</span> <span class="o">=</span> <span class="mf">1.2</span>
<span class="n">cbya</span> <span class="o">=</span> <span class="mf">0.8</span>
<span class="n">ofco</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="n">bbya</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">bbya</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">cbya</span><span class="p">]]</span>
<span class="n">bco</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="n">bbya</span><span class="p">,</span><span class="n">cbya</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">bbya</span><span class="p">,</span><span class="n">cbya</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="n">bbya</span><span class="p">,</span><span class="n">cbya</span><span class="p">]]</span>
<span class="n">fco</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">cbya</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="n">bbya</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="n">bbya</span><span class="p">,</span><span class="n">cbya</span><span class="p">]]</span>
<span class="n">bcc</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]]</span>
<span class="n">cube</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]]</span>
<span class="n">hexa</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mf">0.5</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]]</span>

<span class="n">ctg</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">cbya</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">cbya</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">cbya</span><span class="p">]]</span>
<span class="n">tgl</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">0.81915</span><span class="p">,</span><span class="o">-</span><span class="mf">0.472937</span><span class="p">,</span><span class="mf">0.94923</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.94587</span><span class="p">,</span><span class="mf">0.94923</span><span class="p">],[</span><span class="o">-</span><span class="mf">0.81915</span><span class="p">,</span><span class="o">-</span><span class="mf">0.472937</span><span class="p">,</span><span class="mf">0.94923</span><span class="p">]]</span>
<span class="n">fcc</span> <span class="o">=</span><span class="p">[[</span><span class="mf">0.0000000000000000</span><span class="p">,</span>    <span class="mf">0.5020149905223673</span><span class="p">,</span>    <span class="mf">0.5020149905223673</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">0.5020149905223673</span><span class="p">,</span>    <span class="mf">0.0000000000000000</span><span class="p">,</span>    <span class="mf">0.5020149905223673</span><span class="p">],</span>
     <span class="p">[</span><span class="mf">0.5020149905223673</span><span class="p">,</span>    <span class="mf">0.5020149905223673</span><span class="p">,</span>    <span class="mf">0.0000000000000000</span><span class="p">]]</span>

<span class="n">basis</span><span class="p">,</span><span class="n">normals</span><span class="p">,</span><span class="n">vertices</span><span class="p">,</span><span class="n">faces</span><span class="p">,</span><span class="n">specials</span> <span class="o">=</span> <span class="n">get_bz</span><span class="p">(</span><span class="n">fcc</span><span class="p">,</span><span class="n">digits</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">basis</span><span class="p">)</span>
<span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">specials</span><span class="o">.</span><span class="n">coords</span><span class="p">[:</span><span class="mi">10</span><span class="p">],</span><span class="n">specials</span><span class="o">.</span><span class="n">kpoints</span><span class="p">[:</span><span class="mi">10</span><span class="p">]):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="s1">&#39;--&gt;&#39;</span><span class="p">,</span><span class="n">k</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="splot_bz" class="doc_header"><code>splot_bz</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/sio.py#L634" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>splot_bz</code>(<strong><code>path_pos_bz</code></strong>=<em><code>None</code></em>, <strong><code>ax</code></strong>=<em><code>None</code></em>, <strong><code>plane</code></strong>=<em><code>None</code></em>, <strong><code>color</code></strong>=<em><code>'blue'</code></em>, <strong><code>fill</code></strong>=<em><code>True</code></em>, <strong><code>vectors</code></strong>=<em><code>True</code></em>, <strong><code>v3</code></strong>=<em><code>False</code></em>, <strong><code>vname</code></strong>=<em><code>'b'</code></em>, <strong><code>colormap</code></strong>=<em><code>'plasma'</code></em>, <strong><code>light_from</code></strong>=<em><code>(1, 1, 1)</code></em>, <strong><code>alpha</code></strong>=<em><code>0.4</code></em>)</p>
</blockquote>
<ul>
<li>Plots matplotlib's static figure.</li>
<li><p><strong>Parameters</strong></p>
<ul>
<li><p>path_pos_bz: Auto picks in CWD if POSCAR file found. This accept three kind of objects:</p>
<ul>
<li>List of 3 basis vectors in real space.</li>
<li>Path/to/POSCAR.</li>
<li>Output of <a href="/pivotpy/StructureIO.html#get_bz"><code>get_bz</code></a> function.</li>
</ul>
</li>
<li><p>fill       : True by defult, determines whether to fill surface of BZ or not.</p>
</li>
<li>color      : color to fill surface and stroke color.</li>
<li>vectors    : Plots basis vectors, default is True.</li>
<li>v3         : Plots 3rd vector as well. Only works in 2D and when <code>vectors=True</code>.</li>
<li>plane      : Default is None and plots 3D surface. Can take 'xy','yz','zx' to plot in 2D.</li>
<li>ax         : Auto generated by default, 2D/3D axes, auto converts in 3D on demand as well.</li>
<li>vname      : Default is <code>b</code> for reciprocal space, can set <code>a</code> for plotting cell as after <code>get_bz(get_bz().basis)</code> you get real space lattice back if <code>primitive=True</code> both times.</li>
<li>colormap  : If None, single color is applied, only works in 3D and <code>fill=True</code>. Colormap is applied along z.</li>
<li>light_from: Point from where light is thrown on BZ planes, default is (1,1,1). Only works on plane in 3D.</li>
<li>alpha    : Opacity of filling in range [0,1]. Increase for clear viewpoint.</li>
</ul>
</li>
<li><strong>Returns</strong><ul>
<li>ax   : Matplotlib's 2D axes if <code>plane=None</code>.</li>
<li>ax3d : Matplotlib's 2D axes if <code>plane</code> is given.</li>
</ul>
</li>
</ul>
<blockquote><p>Tip: <code>splot_bz(rec_basis,primitive=True)</code> will plot cell in real space.</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pivotpy.s_plots</span> <span class="k">as</span> <span class="nn">sp</span>
<span class="n">lat</span> <span class="o">=</span> <span class="n">hexa</span>
<span class="n">bz</span> <span class="o">=</span> <span class="n">get_bz</span><span class="p">(</span><span class="n">lat</span><span class="p">,</span><span class="n">primitive</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">loop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">axs</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">init_figure</span><span class="p">(</span><span class="n">ncols</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="n">ax2d</span> <span class="o">=</span> <span class="n">splot_bz</span><span class="p">(</span><span class="n">bz</span><span class="p">,</span><span class="n">plane</span><span class="o">=</span><span class="s1">&#39;xy&#39;</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">vectors</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mf">0.7</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.5</span><span class="p">))</span>
<span class="n">ax3d</span> <span class="o">=</span> <span class="n">splot_bz</span><span class="p">(</span><span class="n">bz</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">108</span><span class="o">/</span><span class="mi">255</span><span class="p">,</span><span class="mi">204</span><span class="o">/</span><span class="mi">255</span><span class="p">,</span><span class="mi">215</span><span class="o">/</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="n">vectors</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">light_from</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">30</span><span class="p">),</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span><span class="n">colormap</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">prim_bz</span> <span class="o">=</span> <span class="n">get_bz</span><span class="p">(</span><span class="n">lat</span><span class="p">,</span><span class="n">primitive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">ax3d_</span> <span class="o">=</span> <span class="n">splot_bz</span><span class="p">(</span><span class="n">prim_bz</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">212</span><span class="o">/</span><span class="mi">255</span><span class="p">,</span><span class="mi">175</span><span class="o">/</span><span class="mi">255</span><span class="p">,</span><span class="mi">55</span><span class="o">/</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="n">vectors</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">_ax3d</span> <span class="o">=</span> <span class="n">splot_bz</span><span class="p">(</span><span class="n">get_bz</span><span class="p">(</span><span class="n">prim_bz</span><span class="o">.</span><span class="n">basis</span><span class="p">,</span><span class="n">primitive</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span><span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">212</span><span class="o">/</span><span class="mi">255</span><span class="p">,</span><span class="mi">175</span><span class="o">/</span><span class="mi">255</span><span class="p">,</span><span class="mi">55</span><span class="o">/</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="n">vectors</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">vname</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="n">colormap</span><span class="o">=</span><span class="s1">&#39;turbo_r&#39;</span><span class="p">,</span><span class="n">light_from</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="n">ps</span> <span class="o">=</span> <span class="n">bz</span><span class="o">.</span><span class="n">specials</span><span class="o">.</span><span class="n">coords</span><span class="p">[</span><span class="n">bz</span><span class="o">.</span><span class="n">specials</span><span class="o">.</span><span class="n">near</span><span class="p">[</span><span class="mi">4</span><span class="p">]][[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">]]</span>
<span class="n">ax3d</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">ps</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span><span class="n">ps</span><span class="p">[:,</span><span class="mi">1</span><span class="p">],</span><span class="n">ps</span><span class="p">[:,</span><span class="mi">2</span><span class="p">],</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">ax2d</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">ps</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span><span class="n">ps</span><span class="p">[:,</span><span class="mi">1</span><span class="p">],</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

<span class="n">ax3d</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
<span class="n">ax3d</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Regular BZ&#39;</span><span class="p">)</span>
<span class="n">ax3d_</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
<span class="n">ax3d_</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Primitive BZ&#39;</span><span class="p">)</span>
<span class="n">ax2d</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
<span class="n">_ax3d</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Real lattice&#39;</span><span class="p">)</span>
<span class="n">_ax3d</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
<span class="n">ax2d</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;XY Projection of Regular BZ&#39;</span><span class="p">)</span>
<span class="n">sp</span><span class="o">.</span><span class="n">plt2html</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="iplot_bz" class="doc_header"><code>iplot_bz</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/sio.py#L751" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>iplot_bz</code>(<strong><code>path_pos_bz</code></strong>=<em><code>None</code></em>, <strong><code>fill</code></strong>=<em><code>True</code></em>, <strong><code>color</code></strong>=<em><code>'rgba(168,204,216,0.4)'</code></em>, <strong><code>background</code></strong>=<em><code>'rgb(255,255,255)'</code></em>, <strong><code>vname</code></strong>=<em><code>'b'</code></em>, <strong><code>alpha</code></strong>=<em><code>0.4</code></em>, <strong><code>ortho3d</code></strong>=<em><code>True</code></em>, <strong><code>fig</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<ul>
<li>Plots interactive figure showing axes,BZ surface, special points and basis, each of which could be hidden or shown.</li>
<li><p><strong>Parameters</strong></p>
<ul>
<li><p>path_pos_bz: Auto picks in CWD if POSCAR file found. This accept three kind of objects:</p>
<ul>
<li>List of 3 basis vectors in real space.</li>
<li>Path/to/POSCAR.</li>
<li>Output of <a href="/pivotpy/StructureIO.html#get_bz"><code>get_bz</code></a> function.</li>
</ul>
</li>
<li><p>fill       : True by defult, determines whether to fill surface of BZ or not.</p>
</li>
<li>color      : color to fill surface 'rgba(168,204,216,0.4)` by default.</li>
<li>background : Plot background color, default is 'rgb(255,255,255)'.</li>
<li>vname      : Default is <code>b</code> for reciprocal space, can set <code>a</code> for plotting cell as after <code>get_bz(get_bz().basis)</code> you get real space lattice back if <code>primitive=True</code> both times.</li>
<li>alpha      : Opacity of BZ planes.</li>
<li>ortho3d    : Default is True, decides whether x,y,z are orthogonal or perspective.</li>
<li>fig        : (Optional) Plotly's <code>go.Figure</code>. If you want to plot on another plotly's figure, provide that.</li>
</ul>
</li>
<li><strong>Returns</strong><ul>
<li>fig   : plotly.graph_object's Figure instance.</li>
</ul>
</li>
</ul>
<blockquote><p>Tip: <code>iplot_bz(rec_basis,primitive=True)</code> will plot cell in real space.</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>Below is a BZ plot using command <code>iplot_bz()</code>. Same color points lie on a sphere, with radius decreasing as red to blue and gamma point in gold color. These color help distinguishing points but the points not always be equivalent, for example in FCC, there are two points on mid of edges connecting square-hexagon and hexagon-hexagon at equal distance from center but not the same points.
{% include note.html content='<a href="/pivotpy/StructureIO.html#iplot_bz"><code>iplot_bz</code></a> includes special points only if vname = <code>b</code>, i.e. in recirpocal space. ' %}</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pivotpy</span> <span class="k">as</span> <span class="nn">pp</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">iplot_bz</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]],</span><span class="n">alpha</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">pp</span><span class="o">.</span><span class="n">plotly2html</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span><span class="n">modebar</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="to_R3" class="doc_header"><code>to_R3</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/sio.py#L859" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>to_R3</code>(<strong><code>basis</code></strong>, <strong><code>points</code></strong>)</p>
</blockquote>
<p>Transforms coordinates of points (relative to non-othogonal basis) into orthogonal space.</p>
<ul>
<li><strong>Parameters</strong><ul>
<li>basis : Non-orthogonal basis of real or reciprocal space.</li>
<li>points: 3D points relative to basis, such as KPOINTS and Lattice Points.</li>
</ul>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">to_R3</span><span class="p">(</span><span class="n">get_basis</span><span class="p">(</span><span class="n">hexa</span><span class="p">)</span><span class="o">.</span><span class="n">inverted</span><span class="p">,[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mf">0.333</span><span class="p">,</span><span class="mf">0.333</span><span class="p">,</span><span class="mf">0.5</span><span class="p">]])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="kpoints2bz" class="doc_header"><code>kpoints2bz</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/sio.py#L874" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>kpoints2bz</code>(<strong><code>bz</code></strong>, <strong><code>kpoints</code></strong>, <strong><code>primitive</code></strong>=<em><code>False</code></em>)</p>
</blockquote>
<p>Brings KPOINTS inside BZ. Applies <a href="/pivotpy/StructureIO.html#to_R3"><code>to_R3</code></a> only if <code>primitive=True</code>.</p>
<ul>
<li><strong>Parameters</strong><ul>
<li>bz       : Output of get_bz(), make sure use same value of <code>primitive</code> there and here.</li>
<li>kpoints  : List or array of KPOINTS to transorm into BZ or R3.</li>
<li>primitive: Default is False and brings kpoints into regular BZ. If True, returns <code>to_R3()</code>.</li>
</ul>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pivotpy</span> <span class="k">as</span> <span class="nn">pp</span>

<span class="n">kpoints</span> <span class="o">=</span> <span class="n">get_kmesh</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">kpoints</span> 
<span class="n">coords</span> <span class="o">=</span> <span class="n">kpoints2bz</span><span class="p">(</span><span class="n">get_bz</span><span class="p">(</span><span class="n">hexa</span><span class="p">),</span><span class="n">kpoints</span><span class="p">)</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">iplot_bz</span><span class="p">(</span><span class="n">get_bz</span><span class="p">(</span><span class="n">hexa</span><span class="p">))</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">go</span><span class="o">.</span><span class="n">Scatter3d</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">coords</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="n">coords</span><span class="p">[:,</span><span class="mi">1</span><span class="p">],</span><span class="n">z</span><span class="o">=</span><span class="n">coords</span><span class="p">[:,</span><span class="mi">2</span><span class="p">],</span>
            <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;markers&#39;</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;KPOINTS&#39;</span><span class="p">))</span>

<span class="n">prim_bz</span> <span class="o">=</span> <span class="n">get_bz</span><span class="p">(</span><span class="n">hexa</span><span class="p">,</span><span class="n">primitive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">iplot_bz</span><span class="p">(</span><span class="n">get_bz</span><span class="p">(</span><span class="n">prim_bz</span><span class="o">.</span><span class="n">basis</span><span class="p">,</span><span class="n">primitive</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span><span class="n">vname</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s2">&quot;rgba(200,220,10,0.4)&quot;</span><span class="p">)</span>
<span class="n">pp</span><span class="o">.</span><span class="n">plotly2html</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span><span class="n">modebar</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Example:-Showing-Energy-as-Color-on-BZ">Example: Showing Energy as Color on BZ<a class="anchor-link" href="#Example:-Showing-Energy-as-Color-on-BZ"> </a></h2><p>In below figure, left side of colorbar is <code>tricontourf</code> and right side is <code>scatter</code> plot with color based on energy value of VBM.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span> <span class="o">,</span> <span class="nn">pivotpy</span> <span class="k">as</span> <span class="nn">pp</span>
<span class="kn">import</span> <span class="nn">matplotlib.tri</span> <span class="k">as</span> <span class="nn">tri</span>
<span class="n">axs</span> <span class="o">=</span> <span class="n">pp</span><span class="o">.</span><span class="n">init_figure</span><span class="p">(</span><span class="n">ncols</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="mf">2.3</span><span class="p">),</span><span class="n">widths</span><span class="o">=</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mf">0.2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="n">evr</span> <span class="o">=</span> <span class="n">pp</span><span class="o">.</span><span class="n">export_vasprun</span><span class="p">(</span><span class="s1">&#39;../graphene_example/ISPIN_1/dos/vasprun.xml&#39;</span><span class="p">)</span>

<span class="n">kpoints</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">([</span><span class="n">evr</span><span class="o">.</span><span class="n">kpoints</span><span class="p">,</span> <span class="o">-</span><span class="n">evr</span><span class="o">.</span><span class="n">kpoints</span><span class="p">])</span> <span class="c1"># negative side</span>
<span class="n">bz1</span> <span class="o">=</span> <span class="n">get_bz</span><span class="p">(</span><span class="n">evr</span><span class="o">.</span><span class="n">poscar</span><span class="o">.</span><span class="n">basis</span><span class="p">,</span><span class="n">primitive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">bz2</span> <span class="o">=</span> <span class="n">get_bz</span><span class="p">(</span><span class="n">evr</span><span class="o">.</span><span class="n">poscar</span><span class="o">.</span><span class="n">basis</span><span class="p">,</span><span class="n">primitive</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">out1</span> <span class="o">=</span> <span class="n">kpoints2bz</span><span class="p">(</span><span class="n">bz1</span><span class="p">,</span><span class="n">kpoints</span><span class="p">,</span><span class="n">primitive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="o">+</span> <span class="mf">0.002</span> <span class="c1">#Just fun translate</span>
<span class="n">out2</span> <span class="o">=</span> <span class="n">kpoints2bz</span><span class="p">(</span><span class="n">bz2</span><span class="p">,</span><span class="n">kpoints</span><span class="p">,</span><span class="n">primitive</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">splot_bz</span><span class="p">(</span><span class="n">bz1</span><span class="p">,</span><span class="n">plane</span><span class="o">=</span><span class="s1">&#39;xy&#39;</span><span class="p">,</span><span class="n">ax</span> <span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
<span class="n">splot_bz</span><span class="p">(</span><span class="n">bz2</span><span class="p">,</span><span class="n">plane</span><span class="o">=</span><span class="s1">&#39;xy&#39;</span><span class="p">,</span><span class="n">ax</span> <span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
<span class="n">splot_bz</span><span class="p">(</span><span class="n">bz1</span><span class="p">,</span><span class="n">plane</span><span class="o">=</span><span class="s1">&#39;xy&#39;</span><span class="p">,</span><span class="n">ax</span> <span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
<span class="n">splot_bz</span><span class="p">(</span><span class="n">bz2</span><span class="p">,</span><span class="n">plane</span><span class="o">=</span><span class="s1">&#39;xy&#39;</span><span class="p">,</span><span class="n">ax</span> <span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>

<span class="c1"># Energy as color on BZ. </span>
<span class="n">en</span> <span class="o">=</span> <span class="n">evr</span><span class="o">.</span><span class="n">bands</span><span class="o">.</span><span class="n">evals</span><span class="p">[:,</span><span class="mi">8</span><span class="p">]</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span>
<span class="n">en</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">([</span><span class="n">en</span><span class="p">,</span><span class="n">en</span><span class="p">])</span>
<span class="n">s_en</span> <span class="o">=</span> <span class="p">(</span><span class="n">en</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">en</span><span class="p">))</span><span class="o">/</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">en</span><span class="p">)</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">en</span><span class="p">))</span> <span class="c1"># bring to range [0,1] for colors</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">get_cmap</span><span class="p">(</span><span class="s1">&#39;plasma&#39;</span><span class="p">)(</span><span class="n">s_en</span><span class="p">)</span>
<span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">l</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; eV&#39;</span> <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">en</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">en</span><span class="p">)</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">en</span><span class="p">))</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="o">/</span><span class="mi">6</span><span class="p">,</span><span class="mi">3</span><span class="o">/</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="o">/</span><span class="mi">6</span><span class="p">]),</span><span class="mi">2</span><span class="p">)]</span>
<span class="n">tri1</span> <span class="o">=</span> <span class="n">tri</span><span class="o">.</span><span class="n">Triangulation</span><span class="p">(</span><span class="n">out1</span><span class="o">.</span><span class="n">T</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">out1</span><span class="o">.</span><span class="n">T</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">tri2</span> <span class="o">=</span> <span class="n">tri</span><span class="o">.</span><span class="n">Triangulation</span><span class="p">(</span><span class="n">out2</span><span class="o">.</span><span class="n">T</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">out2</span><span class="o">.</span><span class="n">T</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">tricontourf</span><span class="p">(</span><span class="n">tri1</span><span class="p">,</span> <span class="n">en</span><span class="p">,</span> <span class="n">levels</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mf">2.6</span><span class="p">,</span> <span class="mf">3.4</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;plasma&#39;</span><span class="p">,</span><span class="n">shading</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">tricontour</span><span class="p">(</span><span class="n">tri2</span><span class="p">,</span> <span class="n">en</span><span class="p">,</span> <span class="n">levels</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mf">2.6</span><span class="p">,</span> <span class="mf">3.4</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;plasma&#39;</span><span class="p">,</span><span class="n">linewidths</span><span class="o">=</span><span class="p">[</span><span class="mf">0.8</span><span class="p">])</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">out1</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span><span class="n">out1</span><span class="p">[:,</span><span class="mi">1</span><span class="p">],</span><span class="n">s</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="n">c</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">out2</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span><span class="n">out2</span><span class="p">[:,</span><span class="mi">1</span><span class="p">],</span><span class="n">s</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="n">c</span><span class="p">)</span>

<span class="n">pp</span><span class="o">.</span><span class="n">add_colorbar</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="n">cmap_or_clist</span><span class="o">=</span><span class="s1">&#39;plasma&#39;</span><span class="p">,</span> <span class="n">ticklabels</span><span class="o">=</span><span class="n">labels</span><span class="p">,</span><span class="n">vertical</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="BZ" class="doc_header"><code>class</code> <code>BZ</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/sio.py#L916" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>BZ</code>(<strong><code>path_pos</code></strong>=<em><code>None</code></em>, <strong><code>loop</code></strong>=<em><code>True</code></em>, <strong><code>digits</code></strong>=<em><code>8</code></em>, <strong><code>primitive</code></strong>=<em><code>False</code></em>)</p>
</blockquote>
<ul>
<li>Return required information to construct first Brillouin zone in form of tuple (basis, normals, vertices, faces).</li>
<li><strong>Parameters</strong><ul>
<li>path_pos : POSCAR file path or list of 3 vectors in 3D aslist[list,list,list].</li>
<li>loop   : If True, joins the last vertex of a BZ plane to starting vertex in order to complete loop.</li>
<li>digits : int, rounding off decimal places, no effect on intermediate calculations, just for pretty final results.</li>
<li>primitive: Defualt is False and returns Wigner-Seitz cell, If True returns parallelipiped in rec_basis.</li>
</ul>
</li>
<li><strong>Methods</strong><ul>
<li>iplot/iplotc : Interactive plot of BZ/Cell.</li>
<li>splot/splotc : Static plot of BZ/Cell.</li>
<li>fetch/fetchc : Brings KPOINTS/Positions inside BZ/Cell.</li>
</ul>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span><span class="o">,</span> <span class="nn">pivotpy</span> <span class="k">as</span> <span class="nn">pp</span>

<span class="n">evr</span> <span class="o">=</span> <span class="n">pp</span><span class="o">.</span><span class="n">export_vasprun</span><span class="p">(</span><span class="s1">&#39;../graphene_example/ISPIN_1/dos/vasprun.xml&#39;</span><span class="p">)</span>
<span class="n">bz</span> <span class="o">=</span> <span class="n">BZ</span><span class="p">(</span><span class="n">evr</span><span class="o">.</span><span class="n">poscar</span><span class="o">.</span><span class="n">basis</span><span class="p">,</span><span class="n">primitive</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">axs</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">init_figure</span><span class="p">(</span><span class="n">ncols</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="n">bz</span><span class="o">.</span><span class="n">splotc</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">colormap</span><span class="o">=</span><span class="s1">&#39;hot&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
<span class="n">bz</span><span class="o">.</span><span class="n">splotc</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">plane</span><span class="o">=</span><span class="s1">&#39;xy&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
<span class="n">bz</span><span class="o">.</span><span class="n">splot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
<span class="n">bz</span><span class="o">.</span><span class="n">splot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="n">plane</span><span class="o">=</span><span class="s1">&#39;xy&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
<span class="n">pos</span> <span class="o">=</span> <span class="n">to_R3</span><span class="p">(</span><span class="n">evr</span><span class="o">.</span><span class="n">poscar</span><span class="o">.</span><span class="n">basis</span><span class="p">,</span><span class="n">evr</span><span class="o">.</span><span class="n">poscar</span><span class="o">.</span><span class="n">positions</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">pos</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span><span class="n">pos</span><span class="p">[:,</span><span class="mi">1</span><span class="p">],</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
<span class="n">pp</span><span class="o">.</span><span class="n">add_text</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">xs</span><span class="o">=</span><span class="n">pos</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span><span class="n">ys</span><span class="o">=</span><span class="n">pos</span><span class="p">[:,</span><span class="mi">1</span><span class="p">],</span><span class="n">txts</span><span class="o">=</span><span class="n">evr</span><span class="o">.</span><span class="n">poscar</span><span class="o">.</span><span class="n">labels</span><span class="p">,</span><span class="n">transform</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">gcf</span><span class="p">()</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Cell, Cell on XY, BZ, BZ on XY&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="fix_sites" class="doc_header"><code>fix_sites</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/sio.py#L959" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>fix_sites</code>(<strong><code>poscar</code></strong>, <strong><code>tol</code></strong>=<em><code>0.01</code></em>, <strong><code>eqv_sites</code></strong>=<em><code>True</code></em>, <strong><code>translate</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<p>Add equivalent sites to make a full data shape of lattice. Returns same data after fixing.</p>
<ul>
<li><strong>Parameters</strong><ul>
<li>poscar: Output of <a href="/pivotpy/StructureIO.html#export_poscar"><code>export_poscar</code></a> or <code>export_vasprun().poscar</code>.</li>
<li>tol   : Tolerance value. Default is 0.01.</li>
<li>eqv_sites: If True, add sites on edges and faces. If False, just fix coordinates, i.e. <code>pos &gt; 1 - tol -&gt; pos - 1</code>, useful for merging poscars to make slabs.</li>
<li>translate: A number(+/-) or list of three numbers to translate in x,y,z directions.</li>
</ul>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_pairs" class="doc_header"><code>get_pairs</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/sio.py#L1016" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_pairs</code>(<strong><code>basis</code></strong>, <strong><code>positions</code></strong>, <strong><code>r</code></strong>, <strong><code>eps</code></strong>=<em><code>0.01</code></em>)</p>
</blockquote>
<p>Returns a tuple of Lattice (coords,pairs), so coords[pairs] given nearest site bonds.</p>
<ul>
<li><strong>Parameters</strong><ul>
<li>basis: Real space lattice basis.</li>
<li>positions: Array(N,3) of fractional positions of lattice sites. If coordinates positions, provide unity basis.</li>
<li>r        : Cartesian distance between the pairs in units of Angstrom e.g. 1.2 -&gt; 1.2E-10.</li>
<li>eps      : Tolerance value. Default is 10^-2.</li>
</ul>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Lattice-Plotting">Lattice Plotting<a class="anchor-link" href="#Lattice-Plotting"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="iplot_lat" class="doc_header"><code>iplot_lat</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/sio.py#L1039" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>iplot_lat</code>(<strong><code>poscar</code></strong>, <strong><code>sizes</code></strong>=<em><code>10</code></em>, <strong><code>colors</code></strong>=<em><code>'blue'</code></em>, <strong><code>bond_length</code></strong>=<em><code>None</code></em>, <strong><code>tol</code></strong>=<em><code>0.1</code></em>, <strong><code>eps</code></strong>=<em><code>0.01</code></em>, <strong><code>eqv_sites</code></strong>=<em><code>True</code></em>, <strong><code>translate</code></strong>=<em><code>None</code></em>, <strong><code>line_width</code></strong>=<em><code>4</code></em>, <strong><code>edge_color</code></strong>=<em><code>'black'</code></em>, <strong><code>fill</code></strong>=<em><code>False</code></em>, <strong><code>alpha</code></strong>=<em><code>0.4</code></em>, <strong><code>ortho3d</code></strong>=<em><code>True</code></em>, <strong><code>fig</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<p>Interactive plot of lattice.</p>
<ul>
<li><strong>Main Parameters</strong><ul>
<li>poscar     : Output of export_poscar or export_vasprun().poscar.</li>
<li>sizes      : Size of sites. Either one int/float or list equal to type of ions.</li>
<li>colors     : Colors of sites. Either one colors or list equal to type of ions.</li>
<li>bond_length: Length of bond in fractional unit [0,1]. It is scaled to V^1/3 and auto calculated if not provides.
Other parameters just mean what they seem to be.</li>
</ul>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pivotpy</span> <span class="k">as</span> <span class="nn">pp</span>
<span class="n">fig</span><span class="o">=</span><span class="n">iplot_lat</span><span class="p">(</span><span class="n">evr</span><span class="o">.</span><span class="n">poscar</span><span class="p">,</span><span class="n">sizes</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span><span class="s1">&#39;red&#39;</span><span class="p">,</span><span class="s1">&#39;green&#39;</span><span class="p">],</span><span class="n">line_width</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="n">fill</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">pp</span><span class="o">.</span><span class="n">plotly2html</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span><span class="n">modebar</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="splot_lat" class="doc_header"><code>splot_lat</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/sio.py#L1116" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>splot_lat</code>(<strong><code>poscar</code></strong>, <strong><code>sizes</code></strong>=<em><code>50</code></em>, <strong><code>colors</code></strong>=<em><code>[]</code></em>, <strong><code>colormap</code></strong>=<em><code>None</code></em>, <strong><code>bond_length</code></strong>=<em><code>None</code></em>, <strong><code>tol</code></strong>=<em><code>0.1</code></em>, <strong><code>eps</code></strong>=<em><code>0.01</code></em>, <strong><code>eqv_sites</code></strong>=<em><code>True</code></em>, <strong><code>translate</code></strong>=<em><code>None</code></em>, <strong><code>line_width</code></strong>=<em><code>1</code></em>, <strong><code>edge_color</code></strong>=<em><code>(1, 0.5, 0, 0.4)</code></em>, <strong><code>vectors</code></strong>=<em><code>True</code></em>, <strong><code>v3</code></strong>=<em><code>False</code></em>, <strong><code>plane</code></strong>=<em><code>None</code></em>, <strong><code>light_from</code></strong>=<em><code>(1, 1, 1)</code></em>, <strong><code>fill</code></strong>=<em><code>False</code></em>, <strong><code>alpha</code></strong>=<em><code>0.4</code></em>, <strong><code>ax</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<p>Static plot of lattice.</p>
<ul>
<li><strong>Main Parameters</strong><ul>
<li>poscar     : Output of export_poscar or export_vasprun().poscar.</li>
<li>sizes      : Size of sites. Either one int/float or list equal to type of ions.</li>
<li>bond_length: Length of bond in fractional unit [0,1]. It is scaled to V^1/3 and auto calculated if not provides.</li>
<li>colors: List of colos. If given, preffered over colormap, should have same length as type of ions.
Other parameters just mean what they seem to be.</li>
</ul>
</li>
</ul>
<blockquote><p>Tip: Use <code>plt.style.use('ggplot')</code> for better 3D perception.</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;ggplot&#39;</span><span class="p">)</span>
<span class="n">axs</span> <span class="o">=</span> <span class="n">pp</span><span class="o">.</span><span class="n">init_figure</span><span class="p">((</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span><span class="n">ncols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">axes_3d</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,])</span>
<span class="n">splot_lat</span><span class="p">(</span><span class="n">evr</span><span class="o">.</span><span class="n">poscar</span><span class="p">,</span><span class="n">sizes</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span><span class="n">plane</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">fill</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">tol</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span><span class="n">light_from</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mf">0.1</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="n">vectors</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">edge_color</span><span class="o">=</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.4</span><span class="p">))</span>
<span class="n">splot_lat</span><span class="p">(</span><span class="n">evr</span><span class="o">.</span><span class="n">poscar</span><span class="p">,</span><span class="n">sizes</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span><span class="n">plane</span><span class="o">=</span><span class="s1">&#39;xy&#39;</span><span class="p">,</span><span class="n">fill</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">tol</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span><span class="n">light_from</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mf">0.1</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="n">vectors</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;red&#39;</span><span class="p">],</span><span class="n">translate</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">set_axis_on</span><span class="p">()</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">view_init</span><span class="p">(</span><span class="mi">70</span><span class="p">,</span><span class="mi">75</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Joining-Multiple-POSCARS">Joining Multiple POSCARS<a class="anchor-link" href="#Joining-Multiple-POSCARS"> </a></h2><p>This is useful to create slabs for interface calculations or even to make supercell in a straightforward way.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="join_poscars" class="doc_header"><code>join_poscars</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/sio.py#L1196" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>join_poscars</code>(<strong><code>poscar1</code></strong>, <strong><code>poscar2</code></strong>, <strong><code>direction</code></strong>=<em><code>'z'</code></em>, <strong><code>tol</code></strong>=<em><code>0.01</code></em>)</p>
</blockquote>
<p>Joins two POSCARs in a given direction. In-plane lattice parameters are kept from <code>poscar1</code> and basis of <code>poscar2</code> parallel to <code>direction</code> is modified while volume is kept same.</p>
<ul>
<li><strong>Parameters</strong><ul>
<li>poscar1, poscar2:  Base and secondary POSCARs respectivly. Output of <a href="/pivotpy/StructureIO.html#export_poscar"><code>export_poscar</code></a> or similar object from other functions.</li>
<li>direction: The joining direction. It is general and can join in any direction along basis. Expect one of ['a','b','c','x','y','z'].</li>
<li>tol: Default is 0.01. It is used to bring sites near 1 to near zero in order to complete sites in plane. Vasp relaxation could move a point, say at 0.00100 to 0.99800 which is not useful while merging sites.</li>
</ul>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="write_poscar" class="doc_header"><code>write_poscar</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/sio.py#L1268" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>write_poscar</code>(<strong><code>poscar</code></strong>, <strong><code>sd_list</code></strong>=<em><code>None</code></em>, <strong><code>outfile</code></strong>=<em><code>None</code></em>, <strong><code>overwrite</code></strong>=<em><code>False</code></em>)</p>
</blockquote>
<p>Writes poscar data object to a file or returns string</p>
<ul>
<li><strong>Parameters</strong><ul>
<li>poscar   : Output of <a href="/pivotpy/StructureIO.html#export_poscar"><code>export_poscar</code></a>,<a href="/pivotpy/StructureIO.html#join_poscars"><code>join_poscars</code></a> etc.</li>
<li>sd_list  : A list ['T T T','F F F',...] strings to turn on selective dynamics at required sites. len(sd_list)==len(sites) should hold.</li>
<li>outfile  : str,file path to write on.</li>
<li>overwrite: bool, if file already exists, overwrite=True changes it.</li>
</ul>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">write_poscar</span><span class="p">(</span><span class="n">evr</span><span class="o">.</span><span class="n">poscar</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;===================================================&quot;</span><span class="p">)</span>
<span class="n">write_poscar</span><span class="p">(</span><span class="n">evr</span><span class="o">.</span><span class="n">poscar</span><span class="p">,</span><span class="n">sd_list</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;T T T&#39;</span><span class="p">,</span><span class="s1">&#39;F F F&#39;</span><span class="p">],</span><span class="n">outfile</span><span class="o">=</span><span class="s1">&#39;POSCAR&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;===================================================&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">write_poscar</span><span class="p">(</span><span class="n">evr</span><span class="o">.</span><span class="n">poscar</span><span class="p">,</span><span class="n">sd_list</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;T T T&#39;</span><span class="p">,</span><span class="s1">&#39;F F F&#39;</span><span class="p">]))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="scale_poscar" class="doc_header"><code>scale_poscar</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/sio.py#L1305" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>scale_poscar</code>(<strong><code>path_poscar</code></strong>, <strong><code>scale</code></strong>=<em><code>(1, 1, 1)</code></em>, <strong><code>tol</code></strong>=<em><code>0.01</code></em>)</p>
</blockquote>
<p>Create larger/smaller cell from a given POSCAR.</p>
<ul>
<li><strong>Parameters</strong><ul>
<li>path_poscar: Path/to/POSCAR or <code>poscar</code> data object.</li>
<li>scale: Tuple of three values along (a,b,c) vectors. int or float values. If number of sites are not as expected in output, tweak <code>tol</code> instead of <code>scale</code>. You can put a minus sign with <code>tol</code> to get more sites and plus sign to reduce sites.</li>
<li>tol: It is used such that site positions are blow <code>1 - tol</code>, as 1 belongs to next cell, not previous one.<blockquote><p>Tip: scale = (2,2,2) enlarges a cell and next operation of (1/2,1/2,1/2) should bring original cell back.</p>
</blockquote>
</li>
</ul>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pivotpy</span> <span class="k">as</span> <span class="nn">pp</span> 
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pivotpy.vr_parser</span> <span class="k">as</span> <span class="nn">vp</span>
<span class="n">poscar</span> <span class="o">=</span> <span class="n">pp</span><span class="o">.</span><span class="n">export_vasprun</span><span class="p">(</span><span class="s1">&#39;../graphene_example/ISPIN_1/dos/vasprun.xml&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">poscar</span>
<span class="n">pos2</span> <span class="o">=</span> <span class="n">scale_poscar</span><span class="p">(</span><span class="n">poscar</span><span class="p">,</span><span class="n">scale</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="n">pos3</span> <span class="o">=</span> <span class="n">scale_poscar</span><span class="p">(</span><span class="n">pos2</span><span class="p">,</span><span class="n">scale</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">pp</span><span class="o">.</span><span class="n">splot_lat</span><span class="p">(</span><span class="n">poscar</span><span class="p">,</span><span class="n">plane</span><span class="o">=</span><span class="s1">&#39;xy&#39;</span><span class="p">,</span><span class="n">colormap</span><span class="o">=</span><span class="s1">&#39;RGB&#39;</span><span class="p">,</span><span class="n">sizes</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span><span class="n">line_width</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">pp</span><span class="o">.</span><span class="n">splot_lat</span><span class="p">(</span><span class="n">pos2</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span><span class="n">plane</span><span class="o">=</span><span class="s1">&#39;xy&#39;</span><span class="p">,</span><span class="n">bond_length</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span><span class="n">tol</span><span class="o">=</span><span class="mf">1e-5</span><span class="p">,</span><span class="n">line_width</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">pp</span><span class="o">.</span><span class="n">splot_lat</span><span class="p">(</span><span class="n">pos3</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span><span class="n">plane</span><span class="o">=</span><span class="s1">&#39;xy&#39;</span><span class="p">,</span><span class="n">colormap</span><span class="o">=</span><span class="s1">&#39;viridis_r&#39;</span><span class="p">,</span><span class="n">sizes</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span><span class="n">line_width</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

</div>
 

<script type="application/vnd.jupyter.widget-state+json">
{"state": {"0d85730f30ea4d23af9b600f96fd5dd0": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "fe79d515b06c427db56f472b6c6de8bd": {"model_name": "OutputModel", "model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "state": {"_dom_classes": ["output"], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_0d85730f30ea4d23af9b600f96fd5dd0", "msg_id": "", "outputs": []}}, "65851bb7f0854693800114ef7e2cf837": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "f0d09632bd2f43538e23393bf8db82cc": {"model_name": "OutputModel", "model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "state": {"_dom_classes": ["output"], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_65851bb7f0854693800114ef7e2cf837", "msg_id": "", "outputs": []}}}, "version_major": 2, "version_minor": 0}
</script>

