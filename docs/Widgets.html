---

title: Widgets


keywords: fastai
sidebar: home_sidebar

summary: "This module contains widgets to perform selected tasks such as viewing/modifying plots interactively."
description: "This module contains widgets to perform selected tasks such as viewing/modifying plots interactively."
nb_path: "Widgets.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: Widgets.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea output_execute_result">
<p><style>a{text-decoration: none !important;color:lightkblue;font-weight:bold;}
                a:focus,a:active,a:hover{color:hotpink !important;}</style></p>
<blockquote><p><a href="https://massgh.github.io/pivotpy/">&nbsp;<code>▶</code> Index&nbsp;</a><br>
<a href="https://massgh.github.io/pivotpy/XmlElementTree">&nbsp;<code>▶</code> XmlElementTree&nbsp;</a><br>
<a href="https://massgh.github.io/pivotpy/StaticPlots">&nbsp;<code>▶</code> StaticPlots&nbsp;</a><br>
<a href="https://massgh.github.io/pivotpy/InteractivePlots">&nbsp;<code>▶</code> InteractivePlots&nbsp;</a><br>
<a href="https://massgh.github.io/pivotpy/Utilities">&nbsp;<code>▶</code> Utilities&nbsp;</a><br>
<a href="https://massgh.github.io/pivotpy/StructureIO">&nbsp;<code>▶</code> StructureIO&nbsp;</a><br>
<a href="https://massgh.github.io/pivotpy/Widgets">&nbsp;<code>▶</code> Widgets●&nbsp;</a></p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a href="https://github.com/jupyter-widgets/ipywidgets/blob/master/packages/controls/css/widgets-base.css">HTML STYLES REFERENCE</a></p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="css_style" class="doc_header"><code>css_style</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/widgets.py#L37" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>css_style</code>(<strong><code>colors_dict</code></strong>)</p>
</blockquote>
<p>Return style based on colors_dict available as pp.light_colors, pp.dark_colors etc</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_files_gui" class="doc_header"><code>get_files_gui</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/widgets.py#L221" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_files_gui</code>(<strong><code>auto_fill</code></strong>=<em><code>'vasprun.xml'</code></em>, <strong><code>html_style</code></strong>=<em><code>None</code></em>, <strong><code>height</code></strong>=<em><code>320</code></em>)</p>
</blockquote>
<ul>
<li>Creates a GUI interface for files/folders filtering.</li>
<li><strong>Parmeters</strong><ul>
<li>auto_fill  : Default is <code>vasprun.xml</code>, any file/folder.</li>
<li>html_style : None,Output of <a href="/pivotpy/Widgets.html#css_style"><code>css_style</code></a>.</li>
<li>height     : Height of Grid box.</li>
</ul>
</li>
<li><strong>Returns</strong><ul>
<li>Tuple(GUI_gridbox,Files_Dropdown). Access second one by item itself.</li>
</ul>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">full_box</span><span class="p">,</span><span class="n">files_w</span> <span class="o">=</span> <span class="n">get_files_gui</span><span class="p">(</span><span class="n">html_style</span><span class="o">=</span><span class="n">css_style</span><span class="p">(</span><span class="n">dark_colors</span><span class="p">),</span><span class="n">height</span><span class="o">=</span><span class="mi">400</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="InputGui" class="doc_header"><code>class</code> <code>InputGui</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/widgets.py#L314" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>InputGui</code>(<strong><code>sys_info</code></strong>=<em><code>None</code></em>, <strong><code>html_style</code></strong>=<em><code>None</code></em>, <strong><code>height</code></strong>=<em><code>400</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="generate_summary" class="doc_header"><code>generate_summary</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/widgets.py#L519" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>generate_summary</code>(<strong><code>paths_list</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">VasprunApp</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Display a GUI for vasp output analysis. `self.theme_colors` can be used to edit custom theme.</span>
<span class="sd">    - **Usage Example**</span>

<span class="sd">    ```python</span>
<span class="sd">    import pivotpy as pp</span>
<span class="sd">    va = pp.VasprunApp()</span>
<span class="sd">    va.cache_data = False #Turn off cache globally.</span>
<span class="sd">    va.evr_kws[&#39;elim&#39;] = [-2,2] #Only Bands in this range will be included. Global accross project, can change anytime.</span>
<span class="sd">    va.evr_kws[&#39;try_pwsh&#39;] = False #Defult is True. Tries to load Powershell exported data.</span>
<span class="sd">    va.ibands_kws[&#39;mode&#39;] = &#39;bands&#39; #Change graph mode from &#39;markers&#39; to &#39;bands&#39;. Setting it to &#39;lines&#39; is not recommended in live graph, it could hang all UI.</span>
<span class="sd">    va.show() #Displays App and do work!</span>
<span class="sd">    va.theme_colors = pp.dark_colors #Set theme to dark externally and edit dictionary values to make your own theme</span>
<span class="sd">    va.splot(**kwargs) #Get matplotlib plot of current data.</span>
<span class="sd">    va.df #After you do some analysis and hit `Project Summary` button, get DataFrame.</span>
<span class="sd">    va.fig #Get current fig in Notebook cell.</span>
<span class="sd">    ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">output</span> <span class="o">=</span> <span class="n">ipw</span><span class="o">.</span><span class="n">Output</span><span class="p">()</span><span class="o">.</span><span class="n">add_class</span><span class="p">(</span><span class="s1">&#39;output&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">height</span><span class="o">=</span><span class="mi">580</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="n">height</span>
        <span class="n">tab</span> <span class="o">=</span> <span class="n">ipw</span><span class="o">.</span><span class="n">Tab</span><span class="p">(</span><span class="n">layout</span> <span class="o">=</span> <span class="n">ipw</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">min_height</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">height</span><span class="si">}</span><span class="s1">px&#39;</span><span class="p">,</span> <span class="n">max_height</span><span class="o">=</span><span class="s1">&#39;100vh&#39;</span><span class="p">,</span>
                                           <span class="n">min_width</span><span class="o">=</span><span class="s1">&#39;700px&#39;</span><span class="p">,</span> <span class="n">max_width</span><span class="o">=</span><span class="s1">&#39;100vw&#39;</span><span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">add_class</span><span class="p">(</span><span class="s1">&#39;marginless&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">add_class</span><span class="p">(</span><span class="s1">&#39;borderless&#39;</span><span class="p">)</span> <span class="c1"># Main Tab</span>

        <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">item</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">([</span><span class="s1">&#39;Home&#39;</span><span class="p">,</span><span class="s1">&#39;Graphs&#39;</span><span class="p">,</span><span class="s1">&#39;STD(out/err)&#39;</span><span class="p">]):</span>
            <span class="n">tab</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">item</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">tab</span>    <span class="o">=</span> <span class="n">tab</span> <span class="c1"># Main layout</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span>   <span class="o">=</span> <span class="kc">None</span> <span class="c1"># Export vasprun object.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__path</span> <span class="o">=</span> <span class="kc">None</span> <span class="c1"># current path</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fig</span>    <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">FigureWidget</span><span class="p">()</span> <span class="c1"># plotly&#39;s figure widget</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">autosize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">df</span>     <span class="o">=</span> <span class="kc">None</span> <span class="c1"># Summary DataFrame</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">result</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;sys&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;V&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;a&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;Fermi&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                     <span class="s1">&#39;VBM&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;CBM&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;so_max&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;so_min&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">}</span> <span class="c1"># Table widget value</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">files_gui</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">files_dd</span> <span class="o">=</span> <span class="n">get_files_gui</span><span class="p">(</span><span class="n">height</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">InGui</span>  <span class="o">=</span> <span class="n">InputGui</span><span class="p">(</span><span class="n">height</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input</span>  <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;E_Fermi&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">}</span> <span class="c1"># Dictionary for input</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fig_gui</span> <span class="o">=</span> <span class="n">HBox</span><span class="p">()</span> <span class="c1"># Middle Tab</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">theme_colors</span> <span class="o">=</span> <span class="n">light_colors</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="c1"># Avoid Modification</span>
        <span class="c1"># Permeannet Parameters</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">idos_kws</span>   <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">colormap</span><span class="o">=</span><span class="s1">&#39;RGB&#39;</span><span class="p">,</span><span class="n">tdos_color</span><span class="o">=</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.95</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span><span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">fill_area</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                               <span class="n">spin</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span><span class="n">interp_nk</span><span class="o">=</span><span class="p">{},</span><span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ibands_kws</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s1">&#39;markers&#39;</span><span class="p">,</span><span class="n">skipk</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">max_width</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span><span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">interp_nk</span><span class="o">=</span><span class="p">{})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">evr_kws</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">skipk</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">elim</span><span class="o">=</span><span class="p">[],</span><span class="n">try_pwsh</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cache_data</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="n">l_btn</span> <span class="o">=</span> <span class="n">ipw</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;max-content&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">buttons</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;load_data&#39;</span> <span class="p">:</span> <span class="n">Button</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Load Data&#39;</span><span class="p">,</span><span class="n">layout</span><span class="o">=</span><span class="n">l_btn</span><span class="p">,</span><span class="n">tooltip</span><span class="o">=</span><span class="s1">&#39;Load and Cache Data&#39;</span><span class="p">),</span>
                        <span class="s1">&#39;load_graph&#39;</span><span class="p">:</span> <span class="n">Button</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Load Graph&#39;</span><span class="p">,</span><span class="n">layout</span><span class="o">=</span><span class="n">l_btn</span><span class="p">,</span><span class="n">tooltip</span><span class="o">=</span><span class="s1">&#39;Create Graph&#39;</span><span class="p">),</span>
                        <span class="s1">&#39;confirm&#39;</span>   <span class="p">:</span> <span class="n">Button</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Confirm Delete&#39;</span><span class="p">,</span><span class="n">layout</span><span class="o">=</span><span class="n">l_btn</span><span class="p">,</span><span class="n">icon</span><span class="o">=</span><span class="s1">&#39;trash&#39;</span><span class="p">),</span>
                        <span class="s1">&#39;summary&#39;</span>   <span class="p">:</span> <span class="n">Button</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Project Summary&#39;</span><span class="p">,</span><span class="n">layout</span><span class="o">=</span><span class="n">l_btn</span><span class="p">,</span><span class="n">tootltip</span><span class="o">=</span><span class="s1">&#39;Make DataFrame&#39;</span><span class="p">),</span>
                        <span class="s1">&#39;expand&#39;</span>    <span class="p">:</span> <span class="n">Button</span><span class="p">(</span><span class="n">icon</span> <span class="o">=</span> <span class="s2">&quot;fa-expand&quot;</span><span class="p">,</span><span class="n">layout</span><span class="o">=</span><span class="n">l_btn</span><span class="p">,</span><span class="n">tooltip</span><span class="o">=</span><span class="s1">&#39;Expand Fig&#39;</span><span class="p">),</span>
                        <span class="s1">&#39;toggle&#39;</span>    <span class="p">:</span> <span class="n">Button</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;RGB&#39;</span><span class="p">,</span><span class="n">layout</span><span class="o">=</span><span class="n">l_btn</span><span class="p">,</span><span class="n">icon</span><span class="o">=</span><span class="s1">&#39;toggle-on&#39;</span><span class="p">,</span><span class="n">tooltip</span><span class="o">=</span><span class="s1">&#39;Toggle Colors&#39;</span><span class="p">),</span>
                        <span class="s1">&#39;save_fig&#39;</span>  <span class="p">:</span> <span class="n">Button</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Save Fig&#39;</span><span class="p">,</span><span class="n">icon</span><span class="o">=</span><span class="s1">&#39;download&#39;</span><span class="p">,</span><span class="n">layout</span><span class="o">=</span><span class="n">l_btn</span><span class="p">,</span><span class="n">tooltip</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
                        <span class="p">}</span>

        <span class="n">b_out</span> <span class="o">=</span> <span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;30%&#39;</span><span class="p">)</span>
        <span class="n">en_options</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Fermi&#39;</span><span class="p">,</span><span class="s1">&#39;VBM&#39;</span><span class="p">,</span><span class="s1">&#39;CBM&#39;</span><span class="p">,</span><span class="s1">&#39;so_max&#39;</span><span class="p">,</span><span class="s1">&#39;so_min&#39;</span><span class="p">,</span><span class="s1">&#39;None&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dds</span>   <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;band_dos&#39;</span><span class="p">:</span> <span class="n">Dropdown</span><span class="p">(</span><span class="n">options</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Bands&#39;</span><span class="p">,</span><span class="s1">&#39;DOS&#39;</span><span class="p">],</span><span class="n">value</span><span class="o">=</span><span class="s1">&#39;Bands&#39;</span><span class="p">,</span>
                                                <span class="n">layout</span><span class="o">=</span> <span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;80px&#39;</span><span class="p">)),</span>
                      <span class="s1">&#39;en_type&#39;</span> <span class="p">:</span> <span class="n">Dropdown</span><span class="p">(</span><span class="n">options</span> <span class="o">=</span> <span class="n">en_options</span><span class="p">,</span><span class="n">value</span><span class="o">=</span><span class="s1">&#39;None&#39;</span><span class="p">,</span><span class="n">layout</span><span class="o">=</span><span class="n">b_out</span><span class="p">),</span>
                      <span class="s1">&#39;cache&#39;</span>   <span class="p">:</span> <span class="n">Dropdown</span><span class="p">(</span><span class="n">options</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Table Data&#39;</span><span class="p">,</span><span class="s1">&#39;PWD Cache&#39;</span><span class="p">,</span><span class="s1">&#39;All Cache&#39;</span><span class="p">,</span><span class="s1">&#39;None&#39;</span><span class="p">],</span>
                                            <span class="n">value</span><span class="o">=</span><span class="s1">&#39;None&#39;</span><span class="p">,</span><span class="n">layout</span><span class="o">=</span><span class="n">b_out</span><span class="p">),</span>
                      <span class="s1">&#39;theme&#39;</span>   <span class="p">:</span> <span class="n">Dropdown</span><span class="p">(</span><span class="n">options</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Default&#39;</span><span class="p">,</span><span class="s1">&#39;Light&#39;</span><span class="p">,</span><span class="s1">&#39;Dark&#39;</span><span class="p">,</span><span class="s1">&#39;Custom&#39;</span><span class="p">],</span>
                                            <span class="n">value</span><span class="o">=</span><span class="s1">&#39;Light&#39;</span><span class="p">,</span><span class="n">layout</span><span class="o">=</span><span class="n">l_btn</span><span class="p">),</span>
                      <span class="s1">&#39;style&#39;</span>   <span class="p">:</span> <span class="n">Dropdown</span><span class="p">(</span><span class="n">options</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;plotly&quot;</span><span class="p">,</span> <span class="s2">&quot;plotly_white&quot;</span><span class="p">,</span> <span class="s2">&quot;plotly_dark&quot;</span><span class="p">,</span>
                                    <span class="s2">&quot;ggplot2&quot;</span><span class="p">,</span> <span class="s2">&quot;seaborn&quot;</span><span class="p">,</span> <span class="s2">&quot;simple_white&quot;</span><span class="p">,</span> <span class="s2">&quot;none&quot;</span><span class="p">],</span><span class="n">layout</span><span class="o">=</span><span class="n">l_btn</span><span class="p">),</span>
                                    <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">texts</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;kticks&#39;</span><span class="p">:</span> <span class="n">Text</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">layout</span><span class="o">=</span><span class="n">b_out</span><span class="p">,</span><span class="n">continuous_update</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>
                      <span class="s1">&#39;ktickv&#39;</span><span class="p">:</span> <span class="n">Text</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">layout</span><span class="o">=</span><span class="n">b_out</span><span class="p">,</span><span class="n">continuous_update</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>
                      <span class="s1">&#39;kjoin&#39;</span> <span class="p">:</span> <span class="n">Text</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">layout</span><span class="o">=</span><span class="n">b_out</span><span class="p">,</span><span class="n">continuous_update</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>
                      <span class="s1">&#39;elim&#39;</span>  <span class="p">:</span> <span class="n">Text</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">layout</span><span class="o">=</span><span class="n">b_out</span><span class="p">,</span><span class="n">continuous_update</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>
                      <span class="s1">&#39;fermi&#39;</span> <span class="p">:</span> <span class="n">Text</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">layout</span><span class="o">=</span><span class="n">b_out</span><span class="p">,</span><span class="n">continuous_update</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>
                      <span class="s1">&#39;xyt&#39;</span>   <span class="p">:</span> <span class="n">Text</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">continuous_update</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
                      <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">htmls</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;theme&#39;</span><span class="p">:</span> <span class="n">ipw</span><span class="o">.</span><span class="n">HTML</span><span class="p">(</span><span class="n">css_style</span><span class="p">(</span><span class="n">light_colors</span><span class="p">)),</span>
                      <span class="s1">&#39;table&#39;</span><span class="p">:</span> <span class="n">ipw</span><span class="o">.</span><span class="n">HTML</span><span class="p">()}</span>

        <span class="c1"># Observing</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">InGui</span><span class="o">.</span><span class="n">html</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__update_input</span><span class="p">,</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dds</span><span class="p">[</span><span class="s1">&#39;band_dos&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__update_input</span><span class="p">,</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">texts</span><span class="p">[</span><span class="s1">&#39;fermi&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__update_input</span><span class="p">,</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">texts</span><span class="p">[</span><span class="s1">&#39;kjoin&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__update_input</span><span class="p">,</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">texts</span><span class="p">[</span><span class="s1">&#39;kticks&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__update_xyt</span><span class="p">,</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">texts</span><span class="p">[</span><span class="s1">&#39;ktickv&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__update_xyt</span><span class="p">,</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">texts</span><span class="p">[</span><span class="s1">&#39;elim&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__update_xyt</span><span class="p">,</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">texts</span><span class="p">[</span><span class="s1">&#39;xyt&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__update_xyt</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dds</span><span class="p">[</span><span class="s1">&#39;theme&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__update_theme</span><span class="p">,</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dds</span><span class="p">[</span><span class="s1">&#39;style&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__update_plot_style</span><span class="p">,</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">files_dd</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__load_previous</span><span class="p">,</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">[</span><span class="s1">&#39;load_data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__on_load</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dds</span><span class="p">[</span><span class="s1">&#39;band_dos&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__figure_tab</span><span class="p">,</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">files_dd</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__update_table</span><span class="p">,</span><span class="s1">&#39;value&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">[</span><span class="s1">&#39;load_data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__update_table</span><span class="p">,</span><span class="s1">&#39;value&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">[</span><span class="s1">&#39;summary&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__df_out</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">[</span><span class="s1">&#39;confirm&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__deleter</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">[</span><span class="s1">&#39;toggle&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__tog_b</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">[</span><span class="s1">&#39;save_fig&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__save_connected</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">[</span><span class="s1">&#39;expand&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__expand_fig</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">[</span><span class="s1">&#39;load_graph&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__update_graph</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dds</span><span class="p">[</span><span class="s1">&#39;en_type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__update_table</span><span class="p">,</span><span class="s2">&quot;value&quot;</span><span class="p">)</span> <span class="c1"># This works from _click_data</span>

    <span class="k">def</span> <span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">name</span><span class="p">,</span><span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="c1"># Special treatment while setting theme_colors from outside.</span>
        <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;theme_colors&#39;</span><span class="p">:</span>
            <span class="k">if</span> <span class="s1">&#39;dds&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">dds</span><span class="p">[</span><span class="s1">&#39;theme&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="s1">&#39;Custom&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;htmls&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">htmls</span><span class="p">[</span><span class="s1">&#39;theme&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">css_style</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">theme_colors</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__figure_tab</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">change</span><span class="p">):</span>
        <span class="n">l_out</span> <span class="o">=</span> <span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;20%&#39;</span><span class="p">)</span>
        <span class="n">cache_box</span> <span class="o">=</span> <span class="n">HBox</span><span class="p">([</span><span class="n">Label</span><span class="p">(</span><span class="s1">&#39;Delete Cache:&#39;</span><span class="p">),</span><span class="bp">self</span><span class="o">.</span><span class="n">dds</span><span class="p">[</span><span class="s1">&#39;cache&#39;</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">[</span><span class="s1">&#39;confirm&#39;</span><span class="p">]]</span>
                        <span class="p">)</span><span class="o">.</span><span class="n">add_class</span><span class="p">(</span><span class="s1">&#39;marginless&#39;</span><span class="p">)</span>
        <span class="n">upper_box</span> <span class="o">=</span> <span class="n">VBox</span><span class="p">([</span>
                <span class="n">HBox</span><span class="p">([</span><span class="n">Label</span><span class="p">(</span><span class="s1">&#39;File:&#39;</span><span class="p">,</span><span class="n">layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;50px&#39;</span><span class="p">)),</span><span class="bp">self</span><span class="o">.</span><span class="n">files_dd</span>
                    <span class="p">])</span><span class="o">.</span><span class="n">add_class</span><span class="p">(</span><span class="s1">&#39;borderless&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">add_class</span><span class="p">(</span><span class="s1">&#39;marginless&#39;</span><span class="p">),</span>
                <span class="n">HBox</span><span class="p">([</span><span class="n">Label</span><span class="p">(</span><span class="s1">&#39;View:&#39;</span><span class="p">,</span><span class="n">layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;50px&#39;</span><span class="p">)),</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">dds</span><span class="p">[</span><span class="s1">&#39;band_dos&#39;</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">[</span><span class="s1">&#39;load_data&#39;</span><span class="p">]</span>
                    <span class="p">])</span><span class="o">.</span><span class="n">add_class</span><span class="p">(</span><span class="s1">&#39;borderless&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">add_class</span><span class="p">(</span><span class="s1">&#39;marginless&#39;</span><span class="p">)</span>
                <span class="p">])</span><span class="o">.</span><span class="n">add_class</span><span class="p">(</span><span class="s1">&#39;marginless&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">add_class</span><span class="p">(</span><span class="s1">&#39;borderless&#39;</span><span class="p">)</span>

        <span class="n">points_box</span> <span class="o">=</span> <span class="n">HBox</span><span class="p">([</span><span class="n">Box</span><span class="p">([</span><span class="n">Label</span><span class="p">(</span><span class="s1">&#39;E Type:&#39;</span><span class="p">,</span><span class="n">layout</span><span class="o">=</span><span class="n">l_out</span><span class="p">),</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">dds</span><span class="p">[</span><span class="s1">&#39;en_type&#39;</span><span class="p">],</span>
                                <span class="n">Label</span><span class="p">(</span><span class="s1">&#39;E-Fermi:&#39;</span><span class="p">,</span><span class="n">layout</span><span class="o">=</span><span class="n">l_out</span><span class="p">),</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">texts</span><span class="p">[</span><span class="s1">&#39;fermi&#39;</span><span class="p">]</span>
                    <span class="p">])</span><span class="o">.</span><span class="n">add_class</span><span class="p">(</span><span class="s1">&#39;marginless&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">add_class</span><span class="p">(</span><span class="s1">&#39;borderless&#39;</span><span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">[</span><span class="s1">&#39;load_graph&#39;</span><span class="p">]</span>
                    <span class="p">],</span><span class="n">layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;100%&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">add_class</span><span class="p">(</span><span class="s1">&#39;marginless&#39;</span><span class="p">)</span>
        <span class="n">in_box</span> <span class="o">=</span> <span class="n">VBox</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">InGui</span><span class="o">.</span><span class="n">box</span><span class="p">,</span>
                    <span class="p">])</span><span class="o">.</span><span class="n">add_class</span><span class="p">(</span><span class="s1">&#39;marginless&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">add_class</span><span class="p">(</span><span class="s1">&#39;borderless&#39;</span><span class="p">)</span>
        <span class="n">top_right</span> <span class="o">=</span> <span class="n">HBox</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">[</span><span class="s1">&#39;load_graph&#39;</span><span class="p">],</span>
                          <span class="n">Label</span><span class="p">(</span><span class="s1">&#39;Style:&#39;</span><span class="p">),</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">dds</span><span class="p">[</span><span class="s1">&#39;style&#39;</span><span class="p">],</span>
                          <span class="n">Label</span><span class="p">(</span><span class="s1">&#39;Theme:&#39;</span><span class="p">),</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">dds</span><span class="p">[</span><span class="s1">&#39;theme&#39;</span><span class="p">],</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">[</span><span class="s1">&#39;expand&#39;</span><span class="p">]</span>
                    <span class="p">])</span><span class="o">.</span><span class="n">add_class</span><span class="p">(</span><span class="s1">&#39;marginless&#39;</span><span class="p">)</span>
        <span class="n">fig_box</span> <span class="o">=</span> <span class="n">Box</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="p">],</span><span class="n">layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">(</span><span class="n">min_height</span><span class="o">=</span><span class="s1">&#39;380px&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">add_class</span><span class="p">(</span><span class="s1">&#39;marginless&#39;</span><span class="p">)</span>
        <span class="n">right_box</span> <span class="o">=</span> <span class="n">VBox</span><span class="p">([</span><span class="n">top_right</span><span class="p">,</span><span class="n">fig_box</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">htmls</span><span class="p">[</span><span class="s1">&#39;table&#39;</span><span class="p">]</span>
                 <span class="p">],</span><span class="n">layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">(</span><span class="n">min_width</span><span class="o">=</span><span class="s1">&#39;60%&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">add_class</span><span class="p">(</span><span class="s1">&#39;marginless&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">add_class</span><span class="p">(</span><span class="s1">&#39;borderless&#39;</span><span class="p">)</span>


        <span class="k">if</span> <span class="s1">&#39;Bands&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dds</span><span class="p">[</span><span class="s1">&#39;band_dos&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
            <span class="n">in_box</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">[</span><span class="n">Label</span><span class="p">(</span><span class="s1">&#39;---------- Projections ----------&#39;</span><span class="p">),</span><span class="bp">self</span><span class="o">.</span><span class="n">InGui</span><span class="o">.</span><span class="n">box</span><span class="p">,</span>
                               <span class="n">Label</span><span class="p">(</span><span class="s1">&#39;---- Other Arguments/Options ----&#39;</span><span class="p">),</span>
                      <span class="n">VBox</span><span class="p">([</span><span class="n">HBox</span><span class="p">([</span><span class="n">Label</span><span class="p">(</span><span class="s1">&#39;Ticks At: &#39;</span><span class="p">,</span><span class="n">layout</span><span class="o">=</span><span class="n">l_out</span><span class="p">),</span>
                                  <span class="bp">self</span><span class="o">.</span><span class="n">texts</span><span class="p">[</span><span class="s1">&#39;kticks&#39;</span><span class="p">],</span>
                                  <span class="n">Label</span><span class="p">(</span><span class="s1">&#39;Labels: &#39;</span><span class="p">,</span><span class="n">layout</span><span class="o">=</span><span class="n">l_out</span><span class="p">),</span>
                                  <span class="bp">self</span><span class="o">.</span><span class="n">texts</span><span class="p">[</span><span class="s1">&#39;ktickv&#39;</span><span class="p">]</span>
                                 <span class="p">])</span><span class="o">.</span><span class="n">add_class</span><span class="p">(</span><span class="s1">&#39;borderless&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">add_class</span><span class="p">(</span><span class="s1">&#39;marginless&#39;</span><span class="p">),</span>
                      <span class="n">HBox</span><span class="p">([</span><span class="n">Label</span><span class="p">(</span><span class="s1">&#39;Join At: &#39;</span><span class="p">,</span><span class="n">layout</span><span class="o">=</span><span class="n">l_out</span><span class="p">),</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">texts</span><span class="p">[</span><span class="s1">&#39;kjoin&#39;</span><span class="p">],</span>
                            <span class="n">Label</span><span class="p">(</span><span class="s1">&#39;E Range: &#39;</span><span class="p">,</span><span class="n">layout</span><span class="o">=</span><span class="n">l_out</span><span class="p">),</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">texts</span><span class="p">[</span><span class="s1">&#39;elim&#39;</span><span class="p">]</span>
                           <span class="p">])</span><span class="o">.</span><span class="n">add_class</span><span class="p">(</span><span class="s1">&#39;marginless&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">add_class</span><span class="p">(</span><span class="s1">&#39;borderless&#39;</span><span class="p">)</span>
                      <span class="p">])</span><span class="o">.</span><span class="n">add_class</span><span class="p">(</span><span class="s1">&#39;marginless&#39;</span><span class="p">)]</span>
            <span class="n">right_box</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">[</span><span class="n">top_right</span><span class="p">,</span><span class="n">fig_box</span><span class="p">,</span><span class="n">points_box</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">[</span><span class="s1">&#39;toggle&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="s1">&#39;RGB&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">in_box</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">[</span><span class="n">Label</span><span class="p">(</span><span class="s1">&#39;---------- Projections ----------&#39;</span><span class="p">),</span><span class="bp">self</span><span class="o">.</span><span class="n">InGui</span><span class="o">.</span><span class="n">box</span><span class="p">,</span>
                               <span class="n">Label</span><span class="p">(</span><span class="s1">&#39;---- Other Arguments/Options ----&#39;</span><span class="p">),</span>
                      <span class="n">HBox</span><span class="p">([</span><span class="n">Label</span><span class="p">(</span><span class="s1">&#39;E Range:&#39;</span><span class="p">,</span><span class="n">layout</span><span class="o">=</span><span class="n">l_out</span><span class="p">),</span>
                      <span class="bp">self</span><span class="o">.</span><span class="n">texts</span><span class="p">[</span><span class="s1">&#39;elim&#39;</span><span class="p">],</span>
                      <span class="n">Label</span><span class="p">(</span><span class="s1">&#39;E-Fermi:&#39;</span><span class="p">,</span><span class="n">layout</span><span class="o">=</span><span class="n">l_out</span><span class="p">),</span>
                      <span class="bp">self</span><span class="o">.</span><span class="n">texts</span><span class="p">[</span><span class="s1">&#39;fermi&#39;</span><span class="p">]</span>
                      <span class="p">])</span><span class="o">.</span><span class="n">add_class</span><span class="p">(</span><span class="s1">&#39;marginless&#39;</span><span class="p">)]</span>
            <span class="n">right_box</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">[</span><span class="n">top_right</span><span class="p">,</span><span class="n">fig_box</span><span class="p">,</span><span class="n">points_box</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dds</span><span class="p">[</span><span class="s1">&#39;en_type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="s1">&#39;None&#39;</span> <span class="c1"># no scatter collection in DOS.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">[</span><span class="s1">&#39;toggle&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="s1">&#39;Fill&#39;</span>


        <span class="n">left_box</span> <span class="o">=</span> <span class="n">VBox</span><span class="p">([</span><span class="n">upper_box</span><span class="p">,</span>
                        <span class="n">in_box</span><span class="p">,</span>
                        <span class="n">HBox</span><span class="p">([</span><span class="n">Label</span><span class="p">(</span><span class="s1">&#39;X, Y, Title&#39;</span><span class="p">),</span><span class="bp">self</span><span class="o">.</span><span class="n">texts</span><span class="p">[</span><span class="s1">&#39;xyt&#39;</span><span class="p">]])</span><span class="o">.</span><span class="n">add_class</span><span class="p">(</span><span class="s1">&#39;borderless&#39;</span><span class="p">),</span>
                        <span class="n">HBox</span><span class="p">([</span><span class="n">Label</span><span class="p">(</span><span class="s1">&#39;Options:&#39;</span><span class="p">),</span><span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">[</span><span class="s1">&#39;summary&#39;</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">[</span><span class="s1">&#39;save_fig&#39;</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">[</span><span class="s1">&#39;toggle&#39;</span><span class="p">]]),</span>
                        <span class="n">cache_box</span><span class="p">,</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">htmls</span><span class="p">[</span><span class="s1">&#39;table&#39;</span><span class="p">]],</span><span class="n">layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">(</span><span class="n">max_width</span><span class="o">=</span><span class="s1">&#39;40%&#39;</span><span class="p">),</span>
                        <span class="p">)</span><span class="o">.</span><span class="n">add_class</span><span class="p">(</span><span class="s1">&#39;marginless&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">add_class</span><span class="p">(</span><span class="s1">&#39;borderless&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fig_gui</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">(</span><span class="n">left_box</span><span class="p">,</span><span class="n">right_box</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">[</span><span class="s1">&#39;load_graph&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">icon</span> <span class="o">=</span> <span class="s1">&#39;fa-refresh&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fig_gui</span> <span class="c1"># Return for use in show</span>

    <span class="nd">@output</span><span class="o">.</span><span class="n">capture</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">show</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">intro_html</span> <span class="o">=</span> <span class="n">ipw</span><span class="o">.</span><span class="n">HTML</span><span class="p">(</span><span class="s2">&quot;&lt;h2&gt;Pivotpy&lt;/h2&gt;&lt;p&gt;Filter files here and switch tab to Graphs. You can create cache ahead of time to load quickly while working. If anything does not seem to work, see the error in STD(out/err) tab. For large files, do `Export-VaspRun` in Powershell to access fast. &lt;a href=https://massgh.github.io/pivotpy/Widgets.html#VasprunApp target=&#39;_blank&#39;&gt;See More&lt;/a&gt;&lt;/p&gt;&lt;marquee style=&#39;color:blue&#39;&gt;Pivotpy GUI based on ipywidgets!&lt;/marquee&gt;&quot;</span><span class="p">)</span>
        <span class="n">header_box</span> <span class="o">=</span> <span class="n">HBox</span><span class="p">([</span><span class="n">intro_html</span><span class="p">,</span>
                           <span class="n">Label</span><span class="p">(</span><span class="s1">&#39;Theme:&#39;</span><span class="p">,</span><span class="n">layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;80px&#39;</span><span class="p">)),</span>
                           <span class="bp">self</span><span class="o">.</span><span class="n">dds</span><span class="p">[</span><span class="s1">&#39;theme&#39;</span><span class="p">]</span>
                    <span class="p">])</span><span class="o">.</span><span class="n">add_class</span><span class="p">(</span><span class="s1">&#39;marginless&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">add_class</span><span class="p">(</span><span class="s1">&#39;borderless&#39;</span><span class="p">)</span>
        <span class="n">summary_gui</span> <span class="o">=</span> <span class="n">HBox</span><span class="p">([</span><span class="n">ipw</span><span class="o">.</span><span class="n">Label</span><span class="p">(),</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">[</span><span class="s1">&#39;summary&#39;</span><span class="p">]]</span>
                            <span class="p">)</span><span class="o">.</span><span class="n">add_class</span><span class="p">(</span><span class="s1">&#39;borderless&#39;</span><span class="p">)</span>
        <span class="n">intro_box</span> <span class="o">=</span> <span class="n">VBox</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">htmls</span><span class="p">[</span><span class="s1">&#39;theme&#39;</span><span class="p">],</span>
                      <span class="n">header_box</span><span class="p">,</span>
                      <span class="bp">self</span><span class="o">.</span><span class="n">files_gui</span><span class="p">,</span>
                      <span class="n">summary_gui</span><span class="p">]</span>
                      <span class="p">)</span><span class="o">.</span><span class="n">add_class</span><span class="p">(</span><span class="s1">&#39;marginless&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">add_class</span><span class="p">(</span><span class="s1">&#39;borderless&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">add_class</span><span class="p">(</span><span class="s1">&#39;marginless&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fig_gui</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__figure_tab</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c1">#Start</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tab</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">(</span><span class="n">intro_box</span><span class="p">,</span>
                             <span class="bp">self</span><span class="o">.</span><span class="n">fig_gui</span><span class="p">,</span>
                             <span class="n">VBox</span><span class="p">([</span><span class="n">HBox</span><span class="p">([</span><span class="n">ipw</span><span class="o">.</span><span class="n">HTML</span><span class="p">(</span><span class="s2">&quot;&lt;h3&gt;Functions Logging/Output&lt;/h3&gt;&quot;</span><span class="p">),</span>
                                          <span class="n">Box</span><span class="p">([</span>
                                          <span class="n">Label</span><span class="p">(</span><span class="s1">&#39;Theme:&#39;</span><span class="p">,</span><span class="n">layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;80px&#39;</span><span class="p">)),</span>
                                          <span class="bp">self</span><span class="o">.</span><span class="n">dds</span><span class="p">[</span><span class="s1">&#39;theme&#39;</span><span class="p">]],</span><span class="n">layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="s1">&#39;50%&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">add_class</span><span class="p">(</span><span class="s1">&#39;borderless&#39;</span><span class="p">)</span>
                                          <span class="p">])</span><span class="o">.</span><span class="n">add_class</span><span class="p">(</span><span class="s1">&#39;borderless&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">add_class</span><span class="p">(</span><span class="s1">&#39;marginless&#39;</span><span class="p">),</span>
                                    <span class="n">VasprunApp</span><span class="o">.</span><span class="n">output</span><span class="p">])</span>
                             <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dds</span><span class="p">[</span><span class="s1">&#39;style&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="s1">&#39;plotly&#39;</span> <span class="c1"># to trigger first callback on graph.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tab</span>

    <span class="k">def</span> <span class="nf">__fill_ticks</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">kpath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">files_dd</span><span class="o">.</span><span class="n">value</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span><span class="s1">&#39;KPOINTS&#39;</span><span class="p">)</span>
        <span class="n">tvs</span> <span class="o">=</span> <span class="n">sio</span><span class="o">.</span><span class="n">read_ticks</span><span class="p">(</span><span class="n">kpath</span><span class="p">)</span> <span class="c1">#ticks values segments</span>
        <span class="k">if</span> <span class="n">tvs</span><span class="p">[</span><span class="s1">&#39;ktick_inds&#39;</span><span class="p">]:</span> <span class="c1">#If is must, if not present, avoid overwritting custom input</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">texts</span><span class="p">[</span><span class="s1">&#39;kticks&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">tvs</span><span class="p">[</span><span class="s1">&#39;ktick_inds&#39;</span><span class="p">]])</span>
        <span class="k">if</span> <span class="n">tvs</span><span class="p">[</span><span class="s1">&#39;ktick_vals&#39;</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">texts</span><span class="p">[</span><span class="s1">&#39;ktickv&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tvs</span><span class="p">[</span><span class="s1">&#39;ktick_vals&#39;</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">tvs</span><span class="p">[</span><span class="s1">&#39;kseg_inds&#39;</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">texts</span><span class="p">[</span><span class="s1">&#39;kjoin&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">tvs</span><span class="p">[</span><span class="s1">&#39;kseg_inds&#39;</span><span class="p">]])</span>

    <span class="k">def</span> <span class="nf">__update_theme</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">change</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dds</span><span class="p">[</span><span class="s1">&#39;theme&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="o">==</span> <span class="s1">&#39;Dark&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">htmls</span><span class="p">[</span><span class="s1">&#39;theme&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">css_style</span><span class="p">(</span><span class="n">dark_colors</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">template</span><span class="o">=</span><span class="s1">&#39;plotly_dark&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dds</span><span class="p">[</span><span class="s1">&#39;style&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="s1">&#39;plotly_dark&#39;</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">dds</span><span class="p">[</span><span class="s1">&#39;theme&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="o">==</span> <span class="s1">&#39;Light&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">htmls</span><span class="p">[</span><span class="s1">&#39;theme&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">css_style</span><span class="p">(</span><span class="n">light_colors</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">template</span><span class="o">=</span><span class="s1">&#39;ggplot2&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dds</span><span class="p">[</span><span class="s1">&#39;style&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="s1">&#39;ggplot2&#39;</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">dds</span><span class="p">[</span><span class="s1">&#39;theme&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="o">==</span> <span class="s1">&#39;Custom&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">htmls</span><span class="p">[</span><span class="s1">&#39;theme&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">css_style</span><span class="p">(</span><span class="n">simple_colors</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">template</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dds</span><span class="p">[</span><span class="s1">&#39;style&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="s1">&#39;none&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">htmls</span><span class="p">[</span><span class="s1">&#39;theme&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">template</span><span class="o">=</span><span class="s1">&#39;plotly&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dds</span><span class="p">[</span><span class="s1">&#39;style&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="s1">&#39;plotly&#39;</span>

    <span class="k">def</span> <span class="nf">__update_plot_style</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">change</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">template</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dds</span><span class="p">[</span><span class="s1">&#39;style&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@output</span><span class="o">.</span><span class="n">capture</span><span class="p">(</span><span class="n">clear_output</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">wait</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">__load_previous</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">change</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">files_dd</span><span class="o">.</span><span class="n">value</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">path</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">r_f</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">_dir</span><span class="p">,</span><span class="s1">&#39;result.json&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">result</span> <span class="o">=</span> <span class="n">vp</span><span class="o">.</span><span class="n">load_from_dump</span><span class="p">(</span><span class="n">r_f</span><span class="p">,</span><span class="n">keep_as_dict</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Previous Analysis loaded in Table for </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">path</span><span class="p">))</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Previous Analysis does not exist for </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">path</span><span class="p">))</span>

    <span class="nd">@output</span><span class="o">.</span><span class="n">capture</span><span class="p">(</span><span class="n">clear_output</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">wait</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">__read_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">poscar</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">sys_info</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">sys_info</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">result</span><span class="p">[</span><span class="s2">&quot;sys&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sys_info</span><span class="o">.</span><span class="n">SYSTEM</span>
        <span class="k">if</span> <span class="n">poscar</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">result</span><span class="p">[</span><span class="s2">&quot;V&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">poscar</span><span class="o">.</span><span class="n">volume</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
            <span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">poscar</span><span class="o">.</span><span class="n">basis</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span><span class="mi">5</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">result</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">a</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">result</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">b</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">result</span><span class="p">[</span><span class="s2">&quot;c&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">c</span>

    <span class="nd">@output</span><span class="o">.</span><span class="n">capture</span><span class="p">(</span><span class="n">clear_output</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">wait</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">__on_load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">button</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__fill_ticks</span><span class="p">()</span> <span class="c1"># First fill ticks, then update input</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__update_input</span><span class="p">(</span><span class="n">change</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="c1"># Fix input right here.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__load_previous</span><span class="p">(</span><span class="n">change</span><span class="o">=</span><span class="n">button</span><span class="p">)</span> <span class="c1"># previous calculations.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tab</span><span class="o">.</span><span class="n">selected_index</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">[</span><span class="s1">&#39;load_data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Loading ...&#39;</span>
        <span class="n">_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">files_dd</span><span class="o">.</span><span class="n">value</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># directory</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">sys_info</span> <span class="o">=</span> <span class="n">vp</span><span class="o">.</span><span class="n">load_from_dump</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">_dir</span><span class="p">,</span><span class="s1">&#39;sys_info.pickle&#39;</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">vp</span><span class="o">.</span><span class="n">load_from_dump</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">_dir</span><span class="p">,</span><span class="s1">&#39;vasprun.pickle&#39;</span><span class="p">))</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Cache Loaded&#39;</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Trying Loading from Python ...&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">vp</span><span class="o">.</span><span class="n">export_vasprun</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">files_dd</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">evr_kws</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache_data</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Caching From: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">files_dd</span><span class="o">.</span><span class="n">value</span><span class="p">))</span> <span class="c1">#Cache result</span>
                <span class="n">vp</span><span class="o">.</span><span class="n">dump_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">sys_info</span><span class="p">,</span><span class="n">outfile</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">_dir</span><span class="p">,</span><span class="s1">&#39;sys_info.pickle&#39;</span><span class="p">))</span>
                <span class="n">vp</span><span class="o">.</span><span class="n">dump_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="n">outfile</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">_dir</span><span class="p">,</span><span class="s1">&#39;vasprun.pickle&#39;</span><span class="p">))</span>

            <span class="n">sys_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">sys_info</span> <span class="c1"># required here.</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Done&#39;</span><span class="p">)</span>

        <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__read_data</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">poscar</span><span class="p">,</span><span class="n">sys_info</span><span class="p">)</span> <span class="c1"># Update Table data on load</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">texts</span><span class="p">[</span><span class="s1">&#39;fermi&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">sys_info</span><span class="o">.</span><span class="n">E_Fermi</span><span class="p">)</span> <span class="c1"># Needs each time new data loads up.</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">tab</span><span class="o">.</span><span class="n">selected_index</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="c1"># Revamp input dropdowns on load  ==========</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">InGui</span><span class="o">.</span><span class="n">update_options</span><span class="p">(</span><span class="n">sys_info</span><span class="o">=</span><span class="n">sys_info</span><span class="p">)</span> <span class="c1">#Upadate elements/orbs/labels</span>
        <span class="c1">#===========================================</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">[</span><span class="s1">&#39;load_data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Load Data&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">files_dd</span><span class="o">.</span><span class="n">value</span> <span class="c1"># Update in __on_load or graph to make sure data loads once</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">[</span><span class="s1">&#39;load_data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">tooltip</span> <span class="o">=</span> <span class="s2">&quot;Current System</span><span class="se">\n</span><span class="si">{!r}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">sys_info</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">[</span><span class="s1">&#39;load_graph&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">icon</span> <span class="o">=</span> <span class="s1">&#39;fa-refresh&#39;</span>

    <span class="nd">@output</span><span class="o">.</span><span class="n">capture</span><span class="p">(</span><span class="n">clear_output</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">wait</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">__update_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">change</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">InGui</span><span class="o">.</span><span class="n">output</span><span class="p">)</span>
        <span class="n">elim_str</span>  <span class="o">=</span> <span class="p">[</span><span class="n">v</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">texts</span><span class="p">[</span><span class="s1">&#39;elim&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span> <span class="k">if</span> <span class="n">v</span><span class="o">!=</span><span class="s1">&#39;&#39;</span><span class="p">]</span>
        <span class="n">fermi_str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">texts</span><span class="p">[</span><span class="s1">&#39;fermi&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input</span><span class="p">[</span><span class="s1">&#39;E_Fermi&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">fermi_str</span><span class="p">)</span> <span class="k">if</span> <span class="n">fermi_str</span> <span class="k">else</span> <span class="mi">0</span> <span class="c1"># Change now, keep zero else must.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input</span><span class="p">[</span><span class="s1">&#39;elim&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">elim_str</span> <span class="k">if</span> <span class="n">v</span><span class="o">!=</span><span class="s1">&#39;-&#39;</span><span class="p">][:</span><span class="mi">2</span><span class="p">]</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">elim_str</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">2</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dds</span><span class="p">[</span><span class="s1">&#39;band_dos&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="o">==</span> <span class="s1">&#39;Bands&#39;</span><span class="p">:</span>
            <span class="n">kjoin_str</span>  <span class="o">=</span> <span class="p">[</span><span class="n">v</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">texts</span><span class="p">[</span><span class="s1">&#39;kjoin&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span> <span class="k">if</span> <span class="n">v</span><span class="o">!=</span><span class="s1">&#39;&#39;</span><span class="p">]</span>
            <span class="n">kticks_str</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">texts</span><span class="p">[</span><span class="s1">&#39;kticks&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span> <span class="k">if</span> <span class="n">v</span><span class="o">!=</span><span class="s1">&#39;&#39;</span><span class="p">]</span>
            <span class="n">ktickv_str</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">texts</span><span class="p">[</span><span class="s1">&#39;ktickv&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span> <span class="k">if</span> <span class="n">v</span><span class="o">!=</span><span class="s1">&#39;&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">input</span><span class="p">[</span><span class="s1">&#39;kseg_inds&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">kjoin_str</span> <span class="k">if</span> <span class="n">v</span><span class="o">!=</span><span class="s1">&#39;-&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="n">kjoin_str</span> <span class="k">else</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">input</span><span class="p">[</span><span class="s1">&#39;ktick_inds&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">kticks_str</span> <span class="k">if</span> <span class="n">v</span><span class="o">!=</span><span class="s1">&#39;-&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="n">kticks_str</span> <span class="k">else</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">input</span><span class="p">[</span><span class="s1">&#39;ktick_vals&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">ktickv_str</span> <span class="k">if</span> <span class="n">v</span><span class="o">!=</span><span class="s1">&#39;&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="n">ktickv_str</span> <span class="k">else</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;B&#39;</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">input</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span><span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">input</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;ktick_inds&#39;</span><span class="p">,</span><span class="s1">&#39;ktick_vals&#39;</span><span class="p">,</span><span class="s1">&#39;kseg_inds&#39;</span><span class="p">]}</span>
        <span class="c1">#Update at last</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">InGui</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">input</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">[</span><span class="s1">&#39;load_graph&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">tooltip</span> <span class="o">=</span> <span class="s2">&quot;Current Input</span><span class="se">\n</span><span class="si">{!r}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">vp</span><span class="o">.</span><span class="n">Dict2Data</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">[</span><span class="s1">&#39;load_graph&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">icon</span> <span class="o">=</span> <span class="s1">&#39;fa-refresh&#39;</span>

    <span class="nd">@output</span><span class="o">.</span><span class="n">capture</span><span class="p">(</span><span class="n">clear_output</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">wait</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">__update_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">change</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">htmls</span><span class="p">[</span><span class="s1">&#39;table&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">_tabulate_data</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">result</span><span class="p">)</span>
        <span class="n">_save_data</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">files_dd</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">result</span><span class="p">)</span> <span class="c1"># save data as well.</span>

    <span class="nd">@output</span><span class="o">.</span><span class="n">capture</span><span class="p">(</span><span class="n">clear_output</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">wait</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">__df_out</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">btn</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tab</span><span class="o">.</span><span class="n">selected_index</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">[</span><span class="s1">&#39;summary&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="s1">&#39;See STD(out/err) Tab&#39;</span>
        <span class="n">paths</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">files_dd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">items</span><span class="p">()]</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">generate_summary</span><span class="p">(</span><span class="n">paths_list</span><span class="o">=</span><span class="n">paths</span><span class="p">)</span>
        <span class="n">display</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span> <span class="c1"># Assign</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Get above DataFrame by app_name.df</span><span class="se">\n</span><span class="s1">Note: app_name is variable name assigned to VasprunApp()&#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;==================== OR =========================&#39;</span><span class="p">)</span>
        <span class="n">_code</span> <span class="o">=</span> <span class="s2">&quot;import pivotpy as pp</span><span class="se">\n</span><span class="s2">paths = [&#39;</span><span class="si">{}</span><span class="s2">&#39;]</span><span class="se">\n</span><span class="s2">df = pp.generate_summary(paths_list=paths)</span><span class="se">\n</span><span class="s2">df&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;&#39;,</span><span class="se">\n</span><span class="s2">         &#39;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">&#39;</span><span class="p">,</span><span class="s1">&#39;/&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">paths</span><span class="p">]))</span>
        <span class="n">_code</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">#ax = pp.init_figure()</span><span class="se">\n</span><span class="s2">#df.plot(ax=ax,x=&#39;sys&#39;,y=[&#39;V&#39;,&#39;a&#39;])&quot;</span>
        <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;```python</span><span class="se">\n</span><span class="si">{}</span><span class="se">\n</span><span class="s2">```&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">_code</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">[</span><span class="s1">&#39;summary&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="s1">&#39;Project Summary&#39;</span>

    <span class="nd">@output</span><span class="o">.</span><span class="n">capture</span><span class="p">(</span><span class="n">clear_output</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">wait</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">__deleter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">btn</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">[</span><span class="s1">&#39;confirm&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="s1">&#39;Deleting ...&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">files_dd</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Deleting Selected Cache...&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__clear_cache</span><span class="p">()</span> <span class="c1"># Deleting</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Done&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__update_table</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c1">#Update when delete data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">[</span><span class="s1">&#39;confirm&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Confirm Delete&#39;</span>

    <span class="nd">@output</span><span class="o">.</span><span class="n">capture</span><span class="p">(</span><span class="n">clear_output</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">wait</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">__update_xyt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">change</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">texts</span><span class="p">[</span><span class="s1">&#39;xyt&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
            <span class="n">xyt_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">texts</span><span class="p">[</span><span class="s1">&#39;xyt&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">update_xaxes</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">xyt_text</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">update_yaxes</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">xyt_text</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">xyt_text</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
            <span class="k">except</span><span class="p">:</span> <span class="k">pass</span> <span class="c1">#do nothing else</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">texts</span><span class="p">[</span><span class="s1">&#39;ktickv&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">texts</span><span class="p">[</span><span class="s1">&#39;kticks&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">texts</span><span class="p">[</span><span class="s1">&#39;elim&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__update_input</span><span class="p">(</span><span class="n">change</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dds</span><span class="p">[</span><span class="s1">&#39;band_dos&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="o">==</span> <span class="s1">&#39;Bands&#39;</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">:</span>
            <span class="n">tickvals</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">kpath</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">input</span><span class="p">[</span><span class="s1">&#39;ktick_inds&#39;</span><span class="p">]]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">update_xaxes</span><span class="p">(</span><span class="n">ticktext</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">input</span><span class="p">[</span><span class="s1">&#39;ktick_vals&#39;</span><span class="p">],</span> <span class="n">tickvals</span><span class="o">=</span><span class="n">tickvals</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">texts</span><span class="p">[</span><span class="s1">&#39;elim&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">input</span><span class="p">[</span><span class="s1">&#39;elim&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input</span><span class="p">[</span><span class="s1">&#39;elim&#39;</span><span class="p">])</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dds</span><span class="p">[</span><span class="s1">&#39;band_dos&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="o">==</span> <span class="s1">&#39;Bands&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">update_yaxes</span><span class="p">(</span><span class="nb">range</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">input</span><span class="p">[</span><span class="s1">&#39;elim&#39;</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">update_xaxes</span><span class="p">(</span><span class="nb">range</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">input</span><span class="p">[</span><span class="s1">&#39;elim&#39;</span><span class="p">])</span>

    <span class="nd">@output</span><span class="o">.</span><span class="n">capture</span><span class="p">(</span><span class="n">clear_output</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">wait</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">__tog_b</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">tog_w</span><span class="p">):</span>
        <span class="n">_color_toggle</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">[</span><span class="s1">&#39;toggle&#39;</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">dds</span><span class="p">[</span><span class="s1">&#39;band_dos&#39;</span><span class="p">])</span>

    <span class="nd">@output</span><span class="o">.</span><span class="n">capture</span><span class="p">(</span><span class="n">clear_output</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">wait</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">__save_connected</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">btn</span><span class="p">):</span>
        <span class="n">s_p</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">files_dd</span><span class="o">.</span><span class="n">value</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">s_p</span><span class="p">,</span><span class="s1">&#39;ConnectedFig.html&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">[</span><span class="s1">&#39;save_fig&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="s1">&#39;Saving...&#39;</span>
        <span class="n">views</span> <span class="o">=</span> <span class="n">VBox</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">htmls</span><span class="p">[</span><span class="s1">&#39;theme&#39;</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">htmls</span><span class="p">[</span><span class="s1">&#39;table&#39;</span><span class="p">]],</span>
                <span class="n">layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;500px&#39;</span><span class="p">,</span><span class="n">height</span><span class="o">=</span><span class="s1">&#39;490px&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">add_class</span><span class="p">(</span><span class="s1">&#39;borderless&#39;</span><span class="p">)</span>
        <span class="n">embed_minimal_html</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">views</span><span class="o">=</span><span class="p">[</span><span class="n">views</span><span class="p">],</span> <span class="n">state</span><span class="o">=</span><span class="n">dependency_state</span><span class="p">([</span><span class="n">views</span><span class="p">]))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">[</span><span class="s1">&#39;save_fig&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="s1">&#39;Save Fig&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">[</span><span class="s1">&#39;save_fig&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">tooltip</span> <span class="o">=</span> <span class="s1">&#39;Recently Saved</span><span class="se">\n</span><span class="si">{!r}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>

    <span class="nd">@output</span><span class="o">.</span><span class="n">capture</span><span class="p">(</span><span class="n">clear_output</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">wait</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">__expand_fig</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">btn</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tab</span><span class="o">.</span><span class="n">selected_index</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dds</span><span class="p">[</span><span class="s1">&#39;en_type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="s1">&#39;None&#39;</span> <span class="c1"># To avoid accidental clicks</span>
        <span class="n">display</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="p">)</span>
    <span class="c1"># Garph</span>
    <span class="nd">@output</span><span class="o">.</span><span class="n">capture</span><span class="p">(</span><span class="n">clear_output</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">wait</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">__update_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">btn</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">files_dd</span><span class="o">.</span><span class="n">value</span>
        <span class="k">if</span> <span class="n">path</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__fill_ticks</span><span class="p">()</span> <span class="c1"># First fill ticks, then update input</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__update_input</span><span class="p">(</span><span class="n">change</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="c1"># Update input here as well</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tab</span><span class="o">.</span><span class="n">selected_index</span> <span class="o">=</span> <span class="mi">2</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="ow">and</span> <span class="n">path</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">__path</span><span class="p">:</span> <span class="c1"># Same load and data exists, heeps in fast</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Data already loaded&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">[</span><span class="s1">&#39;load_graph&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="s1">&#39;Loading pickle...&#39;</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Trying to Load Cache for Graph ...&#39;</span><span class="p">)</span>
                    <span class="n">file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">path</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span><span class="s1">&#39;vasprun.pickle&#39;</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">[</span><span class="s1">&#39;load_graph&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="n">file</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">vp</span><span class="o">.</span><span class="n">load_from_dump</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">[</span><span class="s1">&#39;load_graph&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="s1">&#39;Load Graph&#39;</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">[</span><span class="s1">&#39;load_graph&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="s1">&#39;Loading export...&#39;</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;No cache found. Loading from file </span><span class="si">{}</span><span class="s1"> ...&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">path</span><span class="p">))</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">vp</span><span class="o">.</span><span class="n">export_vasprun</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">evr_kws</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">[</span><span class="s1">&#39;load_graph&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;Load Graph&quot;</span>

            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Done&#39;</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">__path</span>  <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">files_dd</span><span class="o">.</span><span class="n">value</span> <span class="c1">#update here or __on_load. Useful to match things</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">[</span><span class="s1">&#39;load_graph&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="s1">&#39;Load Graph&#39;</span>
            <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__read_data</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">poscar</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">sys_info</span><span class="p">)</span> <span class="c1"># Update Table data</span>
            <span class="c1"># Do Not Read Fermi, its 0 or given by user</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dds</span><span class="p">[</span><span class="s1">&#39;band_dos&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="o">==</span> <span class="s1">&#39;Bands&#39;</span><span class="p">:</span>
                <span class="n">fig_data</span> <span class="o">=</span> <span class="n">ip</span><span class="o">.</span><span class="n">iplot_rgb_lines</span><span class="p">(</span><span class="n">path_evr</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">input</span><span class="p">,</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">ibands_kws</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">dds</span><span class="p">[</span><span class="s1">&#39;en_type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="s1">&#39;None&#39;</span> <span class="c1"># Avoid random clicks</span>
                <span class="n">fig_data</span> <span class="o">=</span> <span class="n">ip</span><span class="o">.</span><span class="n">iplot_dos_lines</span><span class="p">(</span><span class="n">path_evr</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">input</span><span class="p">,</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">idos_kws</span><span class="p">)</span> <span class="c1"># input auto-modified</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">tab</span><span class="o">.</span><span class="n">selected_index</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">batch_animate</span><span class="p">():</span>
                <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">fig_data</span><span class="o">.</span><span class="n">data</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
                <span class="n">fig_data</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">template</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dds</span><span class="p">[</span><span class="s1">&#39;style&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="c1"># before layout to avoid color blink</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">layout</span> <span class="o">=</span> <span class="n">fig_data</span><span class="o">.</span><span class="n">layout</span>

            <span class="n">_click_data</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dds</span><span class="p">[</span><span class="s1">&#39;en_type&#39;</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">texts</span><span class="p">[</span><span class="s1">&#39;fermi&#39;</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">result</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">dds</span><span class="p">[</span><span class="s1">&#39;band_dos&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">buttons</span><span class="p">[</span><span class="s1">&#39;load_graph&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">icon</span> <span class="o">=</span> <span class="s1">&#39;fa-check&#39;</span>

    <span class="nd">@output</span><span class="o">.</span><span class="n">capture</span><span class="p">(</span><span class="n">clear_output</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">wait</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">__clear_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tab</span><span class="o">.</span><span class="n">selected_index</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="n">_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">files_dd</span><span class="o">.</span><span class="n">value</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="s1">&#39;Table&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dds</span><span class="p">[</span><span class="s1">&#39;cache&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">result</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span> <span class="c1"># Avoid deleting V,a,b,Fermi</span>
                <span class="k">if</span> <span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;sys&#39;</span><span class="p">,</span><span class="s1">&#39;V&#39;</span><span class="p">,</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="s1">&#39;Fermi&#39;</span><span class="p">]:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">result</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="k">if</span> <span class="s1">&#39;PWD&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dds</span><span class="p">[</span><span class="s1">&#39;cache&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
            <span class="n">_files</span> <span class="o">=</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">_dir</span><span class="p">,</span><span class="n">f</span><span class="p">)</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;sys_info.pickle&#39;</span><span class="p">,</span><span class="s1">&#39;vasprun.pickle&#39;</span><span class="p">]]</span>
            <span class="n">_</span> <span class="o">=</span> <span class="p">[[</span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Deleting&quot;</span><span class="p">,</span> <span class="n">_file</span><span class="p">),</span><span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">_file</span><span class="p">)]</span> <span class="k">for</span> <span class="n">_file</span> <span class="ow">in</span> <span class="n">_files</span> <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">_file</span><span class="p">)]</span>
        <span class="k">if</span> <span class="s1">&#39;All&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dds</span><span class="p">[</span><span class="s1">&#39;cache&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">files_dd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">value</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">_files</span> <span class="o">=</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">_dir</span><span class="p">,</span><span class="n">f</span><span class="p">)</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;sys_info.pickle&#39;</span><span class="p">,</span><span class="s1">&#39;vasprun.pickle&#39;</span><span class="p">]]</span>
                <span class="n">_</span> <span class="o">=</span> <span class="p">[[</span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Deleting&quot;</span><span class="p">,</span> <span class="n">_file</span><span class="p">),</span><span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">_file</span><span class="p">)]</span> <span class="k">for</span> <span class="n">_file</span> <span class="ow">in</span> <span class="n">_files</span> <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">_file</span><span class="p">)]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tab</span><span class="o">.</span><span class="n">selected_index</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">iplot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="s2">&quot;Returns a detached interactive Figure. `kwargs` are passed to `iplot_rgb_lines` or `iplot_dos_lines` based on current figure. `kwargs` should exclude whatever inside `self.input` and `path_evr`&quot;</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span><span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">input</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="ow">or</span> <span class="n">k</span><span class="o">!=</span><span class="s1">&#39;path_evr&#39;</span><span class="p">}</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dds</span><span class="p">[</span><span class="s1">&#39;band_dos&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="o">==</span> <span class="s1">&#39;Bands&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">ip</span><span class="o">.</span><span class="n">iplot_rgb_lines</span><span class="p">(</span><span class="n">path_evr</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">input</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">ip</span><span class="o">.</span><span class="n">iplot_dos_lines</span><span class="p">(</span><span class="n">path_evr</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">input</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">splot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="s2">&quot;Returns matplotlib Axes.`kwargs` are passed to `splot_rgb_lines` or `splot_dos_lines` based on current figure. `kwargs` should exclude whatever inside `self.input` and `path_evr`&quot;</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span><span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">input</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="ow">or</span> <span class="n">k</span><span class="o">!=</span><span class="s1">&#39;path_evr&#39;</span><span class="p">}</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dds</span><span class="p">[</span><span class="s1">&#39;band_dos&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="o">==</span> <span class="s1">&#39;Bands&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">sp</span><span class="o">.</span><span class="n">splot_rgb_lines</span><span class="p">(</span><span class="n">path_evr</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">input</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">sp</span><span class="o">.</span><span class="n">splot_dos_lines</span><span class="p">(</span><span class="n">path_evr</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">input</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">va</span> <span class="o">=</span> <span class="n">VasprunApp</span><span class="p">()</span>
<span class="n">va</span><span class="o">.</span><span class="n">cache_data</span> <span class="o">=</span> <span class="kc">False</span> 
<span class="n">va</span><span class="o">.</span><span class="n">evr_kws</span><span class="p">[</span><span class="s1">&#39;try_pwsh&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">va</span><span class="o">.</span><span class="n">evr_kws</span><span class="p">[</span><span class="s1">&#39;elim&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
<span class="n">va</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">va</span><span class="o">.</span><span class="n">theme_colors</span> <span class="o">=</span> <span class="p">{</span>
 <span class="s1">&#39;table_fg&#39;</span><span class="p">:</span> <span class="s1">&#39;#ABB2BF&#39;</span><span class="p">,</span>
 <span class="s1">&#39;tr_odd_bg&#39;</span><span class="p">:</span> <span class="s1">&#39;gray&#39;</span><span class="p">,</span>
 <span class="s1">&#39;tr_even_bg&#39;</span><span class="p">:</span> <span class="s1">&#39;#21252B&#39;</span><span class="p">,</span>
 <span class="s1">&#39;tr_hover_bg&#39;</span><span class="p">:</span> <span class="s1">&#39;#414855&#39;</span><span class="p">,</span>
 <span class="s1">&#39;btn_fg&#39;</span><span class="p">:</span> <span class="s1">&#39;green&#39;</span><span class="p">,</span>
 <span class="s1">&#39;btn_bg&#39;</span><span class="p">:</span> <span class="s1">&#39;#3D4450&#39;</span><span class="p">,</span>
 <span class="s1">&#39;tab_bg&#39;</span><span class="p">:</span> <span class="s1">&#39;gray&#39;</span><span class="p">,</span>
 <span class="s1">&#39;tab_fg&#39;</span><span class="p">:</span> <span class="s1">&#39;#61AFEF&#39;</span><span class="p">,</span>
 <span class="s1">&#39;tab_shadow&#39;</span><span class="p">:</span> <span class="s1">&#39;#282C34&#39;</span><span class="p">,</span>
 <span class="s1">&#39;box_bg&#39;</span><span class="p">:</span> <span class="s1">&#39;gray&#39;</span><span class="p">,</span>
 <span class="s1">&#39;box_border&#39;</span><span class="p">:</span> <span class="s1">&#39;#282C34&#39;</span><span class="p">,</span>
 <span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="s1">&#39;#ABB2BF&#39;</span><span class="p">,</span>
 <span class="s1">&#39;input_bg&#39;</span><span class="p">:</span> <span class="s1">&#39;#282C34&#39;</span><span class="p">,</span>
 <span class="s1">&#39;input_fg&#39;</span><span class="p">:</span> <span class="s1">&#39;#ABB2BF&#39;</span><span class="p">,</span>
 <span class="s1">&#39;input_border&#39;</span><span class="p">:</span> <span class="s1">&#39;#282C34&#39;</span><span class="p">,</span>
 <span class="s1">&#39;input_hover&#39;</span><span class="p">:</span> <span class="s1">&#39;#414855&#39;</span><span class="p">,</span>
 <span class="s1">&#39;dd_select_fg&#39;</span><span class="p">:</span> <span class="s1">&#39;#ABB2BF&#39;</span><span class="p">,</span>
 <span class="s1">&#39;dd_select_bg&#39;</span><span class="p">:</span> <span class="s1">&#39;transparent&#39;</span><span class="p">,</span>
 <span class="s1">&#39;dd_hover&#39;</span><span class="p">:</span> <span class="s1">&#39;#3D4450&#39;</span><span class="p">,</span>
 <span class="s1">&#39;dd_opt_bg&#39;</span><span class="p">:</span> <span class="s1">&#39;#282C34&#39;</span><span class="p">,</span>
 <span class="s1">&#39;dd_opt_fg&#39;</span><span class="p">:</span> <span class="s1">&#39;whitesmoke&#39;</span><span class="p">,</span>
 <span class="s1">&#39;dd_focus_bg&#39;</span><span class="p">:</span> <span class="s1">&#39;green&#39;</span><span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="App-Attributes">App Attributes<a class="anchor-link" href="#App-Attributes"> </a></h3><p>Note: If you used pivotpy.sio.get_kpath for generating KPOINTS file, your kticks will be automatically filled. If not, you can still add this example string at end of first line of first KPOINTS file with your own values, (not required in all KPOINST files, one time fill is enough if whole project is based on same kpath) [Do not modify names of variables!].<br>
<code>HSK-INDS = [0, 29, -1], LABELS = ['M', 'Γ|M', 'L'], SEG-INDS = [21, 29]</code></p>
<p>Let's <code>va = VasprunApp()</code>, then:</p>
<ul>
<li><code>va.input</code> is dictionary which is unpacked in plot arguments.</li>
<li><code>va.idos_kws</code> and <code>va.ibands_kws</code> can be modified for other arguments not present in <code>self.input</code>.</li>
<li><code>va.cache_data</code> is boolean to turn caching ON and OFF. Caching helps in faster load in subsequent requests.</li>
<li><code>va.result</code> is what you see in table. </li>
<li><code>va.data</code> is output of <a href="/pivotpy/XmlElementTree.html#export_vasprun"><code>export_vasprun</code></a>. You can tweak <code>va.evr_kws</code> that are passed to <a href="/pivotpy/XmlElementTree.html#export_vasprun"><code>export_vasprun</code></a>. </li>
<li><code>va.fig</code> is current figure. </li>
<li><code>va.theme_colors</code> could be used to change theme, e.g <code>va.theme_colors = pp.dark_colors</code> will change theme to Dark. This is useful to create new themes, you can edit color values in <code>dark_colors/light_colors</code> and assign it to <code>va.theme_colors</code> as you prefer. Do not modify keys, just values!.  </li>
<li><code>va.InGui</code> is instance of <a href="/pivotpy/Widgets.html#InputGui"><code>InputGui</code></a> class and <code>va.InGui.out</code> is used as <code>va.input</code>. <code>va.html</code> is used to observe <code>self.__updata_input</code> internally.</li>
<li><code>va.iplot</code> and <code>va.splot</code> give current figure(detached) and its matplotlib figure respectively. Their <code>kwargs</code> correspond to current figure's command e.g if <code>Bands</code> figure is there, <code>kwargs</code> are passed to <a href="/pivotpy/InteractivePlots.html#iplot_rgb_lines"><code>iplot_rgb_lines</code></a> for <code>va.iplot</code> and to <a href="/pivotpy/StaticPlots.html#splot_rgb_lines"><code>splot_rgb_lines</code></a> for <code>va.splot</code>. </li>
</ul>
<p>Almost every other attribute is a gui or collection of widgets. E.g. <code>va.dds</code> is dictionary that contains all dropdowns in app. Make sure to not change any key in any dictionary, if done by mistake use, <code>dictionary.pop(key,None)</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Edit-Custom-Theme">Edit Custom Theme<a class="anchor-link" href="#Edit-Custom-Theme"> </a></h3><p>You can set <code>va.theme_colors = Manually Edited(va.theme_colors)</code> and then apply <code>Custom</code> from theme dropdown to display theme of your choice. Used CSS-compatible color values only.</p>
<h3 id="Exten-Functionality-(Example:-Save-Matplotlib's-figure-on-clicking-Load-Graph)">Exten Functionality (Example: Save Matplotlib's figure on clicking <code>Load Graph</code>)<a class="anchor-link" href="#Exten-Functionality-(Example:-Save-Matplotlib's-figure-on-clicking-Load-Graph)"> </a></h3><p>You can extend app as you choose, see how it saves a figure on button(within app) click.</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pivotpy</span> <span class="k">as</span> <span class="nn">pp</span>
<span class="kn">import</span> <span class="nn">ipywidgets</span> <span class="k">as</span> <span class="nn">ipw</span><span class="o">,</span> <span class="nn">os</span>

<span class="n">va</span> <span class="o">=</span> <span class="n">pp</span><span class="o">.</span><span class="n">VasprunApp</span><span class="p">()</span>
<span class="n">va</span><span class="o">.</span><span class="n">show</span><span class="p">()</span> 

<span class="c1">#Create Additional Functionality </span>
<span class="n">out</span> <span class="o">=</span> <span class="n">ipw</span><span class="o">.</span><span class="n">Output</span><span class="p">()</span>

<span class="nd">@out</span><span class="o">.</span><span class="n">capture</span><span class="p">(</span><span class="n">clear_output</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">wait</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">update_mpl</span><span class="p">(</span><span class="n">change</span><span class="p">):</span> 
    <span class="k">if</span> <span class="n">change</span><span class="p">:</span>
        <span class="n">va</span><span class="o">.</span><span class="n">splot</span><span class="p">(</span><span class="n">colorbar</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">pp</span><span class="o">.</span><span class="n">_show</span><span class="p">()</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">va</span><span class="o">.</span><span class="n">files_dd</span><span class="o">.</span><span class="n">value</span><span class="p">),</span><span class="s1">&#39;mpl_plot.png&#39;</span><span class="p">)</span>
        <span class="n">pp</span><span class="o">.</span><span class="n">_savefig</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="n">transparent</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">dpi</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Figure saved as: </span><span class="si">{</span><span class="n">path</span><span class="si">!r}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">va</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">sys_info</span><span class="o">.</span><span class="n">incar</span><span class="p">)</span>
<span class="n">va</span><span class="o">.</span><span class="n">buttons</span><span class="p">[</span><span class="s1">&#39;load_graph&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span><span class="n">update_mpl</span><span class="p">)</span>   
<span class="n">out</span>
</pre></div>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="KPathApp" class="doc_header"><code>class</code> <code>KPathApp</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/widgets.py#L565" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>KPathApp</code>(<strong><code>path</code></strong>=<em><code>'POSCAR'</code></em>)</p>
</blockquote>
<p>View and trace path on BZ.</p>
<ul>
<li><strong>Usage</strong><blockquote><p>ka = KPathApp()
ka.show() #Display app
ka.splot() #get matplotlib figure</p>
</blockquote>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ka</span> <span class="o">=</span> <span class="n">KPathApp</span><span class="p">()</span>
<span class="n">ka</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea output_execute_result">
<p><style>a{text-decoration: none !important;color:lightkblue;font-weight:bold;}
                a:focus,a:active,a:hover{color:hotpink !important;}</style></p>
<blockquote><p><a href="https://massgh.github.io/pivotpy/">&nbsp;<code>▶</code> Index&nbsp;</a><br>
<a href="https://massgh.github.io/pivotpy/XmlElementTree">&nbsp;<code>▶</code> XmlElementTree&nbsp;</a><br>
<a href="https://massgh.github.io/pivotpy/StaticPlots">&nbsp;<code>▶</code> StaticPlots&nbsp;</a><br>
<a href="https://massgh.github.io/pivotpy/InteractivePlots">&nbsp;<code>▶</code> InteractivePlots&nbsp;</a><br>
<a href="https://massgh.github.io/pivotpy/Utilities">&nbsp;<code>▶</code> Utilities&nbsp;</a><br>
<a href="https://massgh.github.io/pivotpy/StructureIO">&nbsp;<code>▶</code> StructureIO&nbsp;</a><br>
<a href="https://massgh.github.io/pivotpy/Widgets">&nbsp;<code>▶</code> Widgets●&nbsp;</a></p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

<script type="application/vnd.jupyter.widget-state+json">
{"state": {"aa9ae7b0954249629091a7e3dee8feaa": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "f5ef02c90f694d6f9b7d5239a712cda5": {"model_name": "OutputModel", "model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "state": {"_dom_classes": ["output"], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_aa9ae7b0954249629091a7e3dee8feaa", "msg_id": "", "outputs": []}}}, "version_major": 2, "version_minor": 0}
</script>

