---

title: Static Plots


keywords: fastai
sidebar: home_sidebar

summary: "All types of plots in matplotlib are included in this module. This includes bands,DOS and other general plots, which can be saved as pdf,png,jpg and other formats that matplotlib offers."
description: "All types of plots in matplotlib are included in this module. This includes bands,DOS and other general plots, which can be saved as pdf,png,jpg and other formats that matplotlib offers."
nb_path: "StaticPlots.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: StaticPlots.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Passing-Large-Number-of-Arguments-as-a-Dictionary">Passing Large Number of Arguments as a Dictionary<a class="anchor-link" href="#Passing-Large-Number-of-Arguments-as-a-Dictionary"> </a></h2><ul>
<li>Let's take example of <a href="/pivotpy/StaticPlots.html#plot_bands"><code>plot_bands</code></a>. It requires 10 arguments and most of them are default, but in order to tweak parameters, you still need to access them. Follow These steps to input arguments easily.</li>
<li>In code cell, write <code>plot_bands?</code> and hit enter. This will give Signature and DocString.</li>
<li>Copy arguments and pass to a dictionary <code>dict(what you copied)</code>. In a Jupyter Notebook cell, you can edit it:</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">arg_dict</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
    <span class="n">ax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">kpath</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">bands</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">showlegend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">E_Fermi</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">),</span>
    <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;solid&#39;</span><span class="p">,</span>
    <span class="n">lw</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span>
    <span class="p">)</span>
<span class="n">arg_dict</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>As you can see, I deleted few unnecessary arguments. Now you can use dictionary unpacking operator <code>**</code> inside function, it will pass all arguments present in dictionary. Make sure you do not change name of variables, although you can delete as few of them.</li>
<li><strong>Usage:</strong> Call function as <code>plot_bands(**arg_dict)</code>. You can edit dictionary on fly, or can save it to a file to read (Not recommended, could be a threat to your system security as reading dictionaries from a file could run potentially harmful commands as well.)</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Customize-Matplotlib's-Figure">Customize Matplotlib's Figure<a class="anchor-link" href="#Customize-Matplotlib's-Figure"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="modify_axes" class="doc_header"><code>modify_axes</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/s_plots.py#L45" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>modify_axes</code>(<strong><code>ax</code></strong>=<em><code>None</code></em>, <strong><code>xticks</code></strong>=<em><code>[]</code></em>, <strong><code>xt_labels</code></strong>=<em><code>[]</code></em>, <strong><code>xlim</code></strong>=<em><code>[]</code></em>, <strong><code>yticks</code></strong>=<em><code>[]</code></em>, <strong><code>yt_labels</code></strong>=<em><code>[]</code></em>, <strong><code>ylim</code></strong>=<em><code>[]</code></em>, <strong><code>xlabel</code></strong>=<em><code>None</code></em>, <strong><code>ylabel</code></strong>=<em><code>None</code></em>, <strong><code>vlines</code></strong>=<em><code>True</code></em>, <strong><code>zeroline</code></strong>=<em><code>True</code></em>)</p>
</blockquote>
<ul>
<li>Returns None, applies given settings on axes. Prefered to use before other plotting.</li>
<li><strong>Parameters</strong><ul>
<li>ax  : Matplotlib axes object.</li>
<li>(x,y)ticks : List of positions on (x,y axes).</li>
<li>(xt,yt)_labels : List of labels on (x,y) ticks points.</li>
<li>(x,y)lim : [min, max] of (x,y) axes.</li>
<li>(x,y)label : axes labels.</li>
<li>vlines : If true, drawn when <code>ylim</code> is not empty.</li>
<li>zeroline : If True, drawn when <code>xlim</code> is not empty.</li>
</ul>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="init_figure" class="doc_header"><code>init_figure</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/s_plots.py#L84" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>init_figure</code>(<strong><code>figsize</code></strong>=<em><code>(3.4, 2.6)</code></em>, <strong><code>nrows</code></strong>=<em><code>1</code></em>, <strong><code>ncols</code></strong>=<em><code>1</code></em>, <strong><code>widths</code></strong>=<em><code>[]</code></em>, <strong><code>heights</code></strong>=<em><code>[]</code></em>, <strong><code>axes_off</code></strong>=<em><code>[]</code></em>, <strong><code>axes_3d</code></strong>=<em><code>[]</code></em>, <strong><code>sharex</code></strong>=<em><code>False</code></em>, <strong><code>sharey</code></strong>=<em><code>False</code></em>, <strong><code>azim</code></strong>=<em><code>45</code></em>, <strong><code>elev</code></strong>=<em><code>15</code></em>, <strong><code>ortho3d</code></strong>=<em><code>True</code></em>, <strong>**<code>subplots_adjust_kwargs</code></strong>)</p>
</blockquote>
<ul>
<li>Returns flatten axes of initialized figure, based on plt.subplots(). If you want to access parent figure, use ax.get_figure() or current figure as plt.gcf().</li>
<li><strong>Parameters</strong><ul>
<li>figsize   : Tuple (width, height). Default is (3.4,2.6).</li>
<li>nrows     : Default 1.</li>
<li>ncols     : Default 1.</li>
<li>widths    : List with len(widths)==nrows, to set width ratios of subplots.</li>
<li>heights   : List with len(heights)==ncols, to set height ratios of subplots.</li>
<li>share(x,y): Share axes between plots, this removes shared ticks automatically.</li>
<li>axes_off  : Turn off axes visibility, If <code>nrows = ncols = 1, set True/False</code>, If anyone of <code>nrows or ncols &gt; 1</code>, provide list of axes indices to turn off. If both <code>nrows and ncols &gt; 1</code>, provide list of tuples (x_index,y_index) of axes.</li>
<li>axes_3d   : Change axes to 3D. If <code>nrows = ncols = 1, set True/False</code>, If anyone of <code>nrows or ncols &gt; 1</code>, provide list of axes indices to turn off. If both <code>nrows and ncols &gt; 1</code>, provide list of tuples (x_index,y_index) of axes.
azim,elev   : Matplotlib's 3D angles, defualt are 45,15.
ortho3d     : Only works for 3D axes. If True, x,y,z are orthogonal, otherwise perspective.</li>
<li>**subplots_adjust_kwargs : These are same as <code>plt.subplots_adjust()</code>'s arguements.</li>
</ul>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Tweaking-init_figure-by-using-gridspec.">Tweaking <a href="/pivotpy/StaticPlots.html#init_figure"><code>init_figure</code></a> by using <code>gridspec</code>.<a class="anchor-link" href="#Tweaking-init_figure-by-using-gridspec."> </a></h3><ul>
<li>This is a powerful way yo include any type of grid. For this, first use <code>gs = axs[0,0].get_gridspec()</code> and then remove axes you want to replace for another shape, then add required axis by <code>plt.gcf().add_subplot(gs[x_ind, y_ind])</code>. This process is illustrated in below examples.</li>
<li><strong>Examples</strong><ul>
<li>Axes remain same, just widths and height ratios are chnaged.</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pivotpy.s_plots</span> <span class="k">as</span> <span class="nn">sp</span> 
<span class="n">axs</span> <span class="o">=</span> <span class="n">init_figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mf">3.4</span><span class="p">,</span><span class="mf">2.6</span><span class="p">),</span><span class="n">ncols</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">widths</span><span class="o">=</span><span class="p">[</span><span class="mf">3.4</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">3.4</span><span class="p">],</span><span class="n">nrows</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">heights</span><span class="o">=</span><span class="p">[</span><span class="mf">2.6</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">2.6</span><span class="p">],</span><span class="n">wspace</span><span class="o">=</span><span class="mf">0.076</span><span class="p">,</span><span class="n">hspace</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="p">[</span><span class="n">sp</span><span class="o">.</span><span class="n">modify_axes</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span><span class="n">xticks</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">yticks</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="n">axs</span><span class="o">.</span><span class="n">ravel</span><span class="p">()]</span>
<span class="p">[</span><span class="n">sp</span><span class="o">.</span><span class="n">add_colorbar</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span><span class="n">ticks</span><span class="o">=</span><span class="p">[])</span> <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="p">[</span><span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span><span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]]];</span>
<span class="n">_</span> <span class="o">=</span> <span class="p">[</span><span class="n">sp</span><span class="o">.</span><span class="n">add_colorbar</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span><span class="n">vertical</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">ticks</span><span class="o">=</span><span class="p">[])</span> <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="p">[</span><span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="n">axs</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">]]]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>Here we will remove and regenerate axes based on our grid choice.</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">axs</span><span class="o">=</span><span class="n">init_figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mf">3.4</span><span class="p">),</span><span class="n">nrows</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">ncols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">widths</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="n">heights</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">7</span><span class="p">],</span><span class="n">wspace</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span><span class="n">hspace</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span><span class="n">axes_off</span><span class="o">=</span><span class="p">[(</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">)],</span><span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">sharey</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">pivotpy.s_plots</span> <span class="k">as</span> <span class="nn">sp</span> 
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">gs</span> <span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_gridspec</span><span class="p">()</span>
<span class="n">axs_to_remove</span><span class="o">=</span><span class="p">[</span><span class="o">*</span><span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">:],</span><span class="o">*</span><span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">:,</span> <span class="mi">1</span><span class="p">]]</span>
<span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="n">axs_to_remove</span><span class="p">:</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>
<span class="n">axlarge</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">gcf</span><span class="p">()</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">gs</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">:])</span>
<span class="n">axv</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">gcf</span><span class="p">()</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">gs</span><span class="p">[</span><span class="mi">1</span><span class="p">:,</span> <span class="mi">1</span><span class="p">])</span>
<span class="n">sp</span><span class="o">.</span><span class="n">modify_axes</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axv</span><span class="p">)</span>
<span class="n">sp</span><span class="o">.</span><span class="n">add_colorbar</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axlarge</span><span class="p">)</span>
<span class="n">sp</span><span class="o">.</span><span class="n">add_text</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span><span class="n">txts</span><span class="o">=</span><span class="s1">&#39;axis[1,0]&#39;</span><span class="p">,</span><span class="n">xs</span><span class="o">=</span><span class="mf">0.25</span><span class="p">,</span><span class="n">ys</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">sp</span><span class="o">.</span><span class="n">add_text</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span><span class="n">txts</span><span class="o">=</span><span class="s1">&#39;axis[2,0] is off&#39;</span><span class="p">,</span><span class="n">xs</span><span class="o">=</span><span class="mf">0.15</span><span class="p">,</span><span class="n">ys</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">pivotpy.vr_parser</span> <span class="k">as</span> <span class="nn">vp</span> 
<span class="n">vr</span><span class="o">=</span><span class="n">vp</span><span class="o">.</span><span class="n">export_vasprun</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s1">&#39;E:/Research/graphene_example/ISPIN_1/bands/vasprun.xml&#39;</span><span class="p">)</span>
<span class="n">sp</span><span class="o">.</span><span class="n">quick_bplot</span><span class="p">(</span><span class="n">path_evr</span><span class="o">=</span><span class="n">vr</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">axv</span><span class="p">,</span><span class="n">txt</span><span class="o">=</span><span class="s1">&#39;Plotting&#39;</span><span class="p">,</span><span class="n">E_Fermi</span><span class="o">=-</span><span class="mi">3</span><span class="p">,</span><span class="n">ktick_inds</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">30</span><span class="p">],</span><span class="n">ktick_vals</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="s1">&#39;C&#39;</span><span class="p">])</span>
<span class="n">sp</span><span class="o">.</span><span class="n">add_text</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axv</span><span class="p">,</span><span class="n">txts</span><span class="o">=</span><span class="s1">&#39;BigAxes&#39;</span><span class="p">,</span><span class="n">xs</span><span class="o">=</span><span class="mf">0.25</span><span class="p">,</span><span class="n">ys</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">modify_axes</span><span class="p">(</span><span class="n">axv</span><span class="p">,</span><span class="n">vlines</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">ylim</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>A minial example below shows deleting an axes and then adding a 3D axes with same dimensions.</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">mpl_toolkits.mplot3d</span> <span class="kn">import</span> <span class="n">Axes3D</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span> 
<span class="kn">import</span> <span class="nn">pivotpy</span> <span class="k">as</span> <span class="nn">pp</span> 
<span class="n">ax</span> <span class="o">=</span> <span class="n">init_figure</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">ncols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">widths</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span><span class="n">heights</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span><span class="n">axes_3d</span><span class="o">=</span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Simple-Band-Struture-Plots">Simple Band Struture Plots<a class="anchor-link" href="#Simple-Band-Struture-Plots"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="plot_bands" class="doc_header"><code>plot_bands</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/s_plots.py#L158" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>plot_bands</code>(<strong><code>ax</code></strong>=<em><code>None</code></em>, <strong><code>kpath</code></strong>=<em><code>None</code></em>, <strong><code>bands</code></strong>=<em><code>None</code></em>, <strong><code>showlegend</code></strong>=<em><code>False</code></em>, <strong><code>E_Fermi</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<ul>
<li>Returns axes object and plot on which all matplotlib allowed actions could be performed.</li>
<li><strong>Parameters</strong><ul>
<li>ax         : Matplotlib axes object, if not given, one is created.</li>
<li>kpath      : 1D array from <a href="/pivotpy/XmlElementTree.html#get_kpts"><code>get_kpts</code></a>().kpath or <a href="/pivotpy/XmlElementTree.html#export_vasprun"><code>export_vasprun</code></a>().kpath.</li>
<li>bands      : Dictionary Object from <a href="/pivotpy/XmlElementTree.html#get_evals"><code>get_evals</code></a> or <a href="/pivotpy/XmlElementTree.html#export_vasprun"><code>export_vasprun</code></a>().bands.</li>
<li>showlegend : Boolean, default is False, if true, gives legend for spin-polarized calculations.</li>
<li>E_Fermi    : If not given, automatically picked from bands object.</li>
</ul>
</li>
</ul>
<p>kwargs are passed to matplotlib.lines.Lin2D. For passing a keyword to spindown channel, append an underscore, e.g 'lw' goes to SpinUp and 'lw_' goes to SpinDown.</p>
<ul>
<li><strong>Returns</strong><ul>
<li>ax : matplotlib axes object with plotted bands.</li>
</ul>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Working in object-oriented way, we can have plenty of options in matplotlib. See the example below, which provides an overview of flexibility of matplotlib. All functions are defined in object-oriented way for better compatibility and flexibility.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Example:-Graphene">Example: Graphene<a class="anchor-link" href="#Example:-Graphene"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pivotpy.vr_parser</span> <span class="k">as</span> <span class="nn">vp</span>
<span class="n">vr1</span><span class="o">=</span><span class="n">vp</span><span class="o">.</span><span class="n">export_vasprun</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">f1</span><span class="p">)</span>
<span class="n">vr2</span><span class="o">=</span><span class="n">vp</span><span class="o">.</span><span class="n">export_vasprun</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">f2</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">pivotpy.s_plots</span> <span class="k">as</span> <span class="nn">sp</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">init_figure</span><span class="p">(</span><span class="n">ncols</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mf">10.2</span><span class="p">,</span><span class="mf">2.6</span><span class="p">),</span><span class="n">sharey</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">ax0</span><span class="o">=</span><span class="n">plot_bands</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">kpath</span><span class="o">=</span><span class="n">vr2</span><span class="o">.</span><span class="n">kpath</span><span class="p">,</span><span class="n">bands</span><span class="o">=</span><span class="n">vr2</span><span class="o">.</span><span class="n">bands</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span><span class="n">color_</span><span class="o">=</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="n">lw_</span> <span class="o">=</span> <span class="mf">0.7</span><span class="p">,</span><span class="n">ls_</span><span class="o">=</span><span class="s1">&#39;dashed&#39;</span><span class="p">,</span><span class="n">showlegend</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">ax1</span><span class="o">=</span><span class="n">plot_bands</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">kpath</span><span class="o">=</span><span class="n">vr1</span><span class="o">.</span><span class="n">kpath</span><span class="p">,</span><span class="n">bands</span><span class="o">=</span><span class="n">vr1</span><span class="o">.</span><span class="n">bands</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>

<span class="n">ax2</span><span class="o">=</span><span class="n">plot_bands</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="n">kpath</span><span class="o">=</span><span class="n">vr1</span><span class="o">.</span><span class="n">kpath</span><span class="p">,</span><span class="n">bands</span><span class="o">=</span><span class="n">vr1</span><span class="o">.</span><span class="n">bands</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">=</span><span class="n">plot_bands</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="n">kpath</span><span class="o">=</span><span class="n">vr2</span><span class="o">.</span><span class="n">kpath</span><span class="p">,</span><span class="n">bands</span><span class="o">=</span><span class="n">vr2</span><span class="o">.</span><span class="n">bands</span><span class="p">,</span><span class="n">showlegend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span><span class="n">color_</span> <span class="o">=</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span><span class="n">lw_</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">,</span> <span class="n">ls_</span> <span class="o">=</span> <span class="s1">&#39;dashed&#39;</span><span class="p">)</span>
<span class="n">xticks</span><span class="o">=</span><span class="p">[</span><span class="n">vr1</span><span class="o">.</span><span class="n">kpath</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">60</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
<span class="n">txts</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Polarized&quot;</span><span class="p">,</span><span class="s2">&quot;Unpolarized&quot;</span><span class="p">,</span><span class="s2">&quot;Comparison&quot;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">axes</span><span class="p">,</span><span class="n">txt</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span><span class="n">txts</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">axes</span><span class="o">==</span><span class="n">ax0</span><span class="p">:</span>
        <span class="n">sp</span><span class="o">.</span><span class="n">modify_axes</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">,</span><span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;Energy (eV)&#39;</span><span class="p">)</span>
    <span class="n">modify_axes</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">,</span><span class="n">ylim</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">],</span><span class="n">xlim</span><span class="o">=</span><span class="p">[</span><span class="n">xticks</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">xticks</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]],</span><span class="n">xticks</span><span class="o">=</span><span class="n">xticks</span><span class="p">,</span><span class="n">xt_labels</span><span class="o">=</span><span class="p">[</span><span class="sa">r</span><span class="s1">&#39;$\Gamma$&#39;</span><span class="p">,</span><span class="s1">&#39;M&#39;</span><span class="p">,</span><span class="s1">&#39;K&#39;</span><span class="p">,</span><span class="sa">r</span><span class="s1">&#39;$\Gamma$&#39;</span><span class="p">])</span>
    <span class="n">axes</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">0.05</span><span class="p">,</span><span class="mf">0.9</span><span class="p">,</span><span class="n">txt</span><span class="p">,</span><span class="n">bbox</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span><span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.9</span><span class="p">),</span><span class="n">transform</span><span class="o">=</span><span class="n">axes</span><span class="o">.</span><span class="n">transAxes</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">hspace</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span><span class="n">wspace</span><span class="o">=</span><span class="mf">0.05</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="add_text" class="doc_header"><code>add_text</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/s_plots.py#L216" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>add_text</code>(<strong><code>ax</code></strong>=<em><code>None</code></em>, <strong><code>xs</code></strong>=<em><code>0.25</code></em>, <strong><code>ys</code></strong>=<em><code>0.9</code></em>, <strong><code>txts</code></strong>=<em><code>'[List]'</code></em>, <strong><code>colors</code></strong>=<em><code>'r'</code></em>, <strong><code>transform</code></strong>=<em><code>True</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<ul>
<li>Adds text entries on axes, given single string or list.</li>
<li><strong>Parameters</strong><ul>
<li>xs    : List of x coordinates relative to axes or single coordinate.</li>
<li>ys    : List of y coordinates relative to axes or single coordinate.</li>
<li>txts  : List of strings or one string.</li>
<li>colors: List of x colors of txts or one color.</li>
<li>transform: Dafault is True and positions are relative to axes, If False, positions are in data coordinates.</li>
</ul>
</li>
</ul>
<p>kwargs are passe to plt.text.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="quick_bplot" class="doc_header"><code>quick_bplot</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/s_plots.py#L247" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>quick_bplot</code>(<strong><code>path_evr</code></strong>=<em><code>None</code></em>, <strong><code>ax</code></strong>=<em><code>None</code></em>, <strong><code>skipk</code></strong>=<em><code>None</code></em>, <strong><code>kseg_inds</code></strong>=<em><code>[]</code></em>, <strong><code>elim</code></strong>=<em><code>[]</code></em>, <strong><code>ktick_inds</code></strong>=<em><code>[]</code></em>, <strong><code>ktick_vals</code></strong>=<em><code>[]</code></em>, <strong><code>E_Fermi</code></strong>=<em><code>None</code></em>, <strong><code>txt</code></strong>=<em><code>None</code></em>, <strong><code>xytxt</code></strong>=<em><code>[0.2, 0.9]</code></em>, <strong><code>ctxt</code></strong>=<em><code>'black'</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<ul>
<li>Returns axes object and plot on which all matplotlib allowed actions could be performed.</li>
<li><strong>Parameters</strong><ul>
<li>path_evr   : path/to/vasprun.xml or output of <a href="/pivotpy/XmlElementTree.html#export_vasprun"><code>export_vasprun</code></a>. Auto picks in CWD.</li>
<li>ax         : Matplotlib axes object, if not given, one is created.</li>
<li>skipk      : Number of kpoints to skip, default will be from IBZKPT.</li>
<li>kseg_inds : Points where kpath is broken.</li>
<li>elim       : [min,max] of energy range.</li>
<li>E_Fermi    : If not given, automatically picked from <a href="/pivotpy/XmlElementTree.html#export_vasprun"><code>export_vasprun</code></a>.</li>
<li>ktick_inds : High symmetry kpoints indices.abs</li>
<li>ktick_vals  : High Symmetry kpoints labels.</li>
<li>txt,xytxt and ctxt are extra arguments for text on figure.</li>
</ul>
</li>
</ul>
<p>kwargs are passed to matplotlib.lines.Lin2D. For passing a keyword to spindown channel, append an underscore, e.g 'lw' goes to SpinUp and 'lw_' goes to SpinDown.</p>
<ul>
<li><strong>Returns</strong><ul>
<li>ax : matplotlib axes object with plotted bands.</li>
</ul>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Below is example where you can add multiple text entries on a <a href="/pivotpy/StaticPlots.html#quick_bplot"><code>quick_bplot</code></a>.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pivotpy.s_plots</span> <span class="k">as</span> <span class="nn">sp</span>
<span class="n">ax</span><span class="o">=</span><span class="n">quick_bplot</span><span class="p">(</span><span class="n">path_evr</span><span class="o">=</span><span class="n">f2</span><span class="p">,</span><span class="n">elim</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span><span class="n">ktick_inds</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">60</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span><span class="n">ktick_vals</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;W&#39;</span><span class="p">,</span><span class="s1">&#39;K&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">],</span><span class="n">txt</span><span class="o">=</span><span class="s1">&#39;Graphene&#39;</span><span class="p">,</span><span class="n">ctxt</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span><span class="n">color_</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span><span class="n">lw_</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">add_text</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span><span class="n">xs</span><span class="o">=</span><span class="p">[</span><span class="mf">0.35</span><span class="p">,</span><span class="mf">0.5</span><span class="p">],</span><span class="n">ys</span><span class="o">=</span><span class="p">[</span><span class="mf">0.55</span><span class="p">,</span><span class="mf">0.7</span><span class="p">],</span><span class="n">txts</span><span class="o">=</span><span class="p">[</span><span class="sa">r</span><span class="s1">&#39;$E_</span><span class="si">{gap}</span><span class="s1">$ = 0 eV&#39;</span><span class="p">,</span><span class="s1">&#39;edge states&#39;</span><span class="p">],</span><span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;red&#39;</span><span class="p">,</span><span class="s1">&#39;blue&#39;</span><span class="p">],</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="add_legend" class="doc_header"><code>add_legend</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/s_plots.py#L286" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>add_legend</code>(<strong><code>ax</code></strong>=<em><code>None</code></em>, <strong><code>colors</code></strong>=<em><code>[]</code></em>, <strong><code>labels</code></strong>=<em><code>[]</code></em>, <strong><code>styles</code></strong>=<em><code>'solid'</code></em>, <strong><code>widths</code></strong>=<em><code>0.7</code></em>, <strong><code>anchor</code></strong>=<em><code>(0, 1)</code></em>, <strong><code>ncol</code></strong>=<em><code>3</code></em>, <strong><code>loc</code></strong>=<em><code>'lower left'</code></em>, <strong><code>fontsize</code></strong>=<em><code>'small'</code></em>, <strong><code>frameon</code></strong>=<em><code>False</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<ul>
<li>Adds custom legeneds on a given axes,returns None.</li>
<li><strong>Parameters</strong><ul>
<li>ax       : Matplotlib axes.</li>
<li>colors   : List of colors.</li>
<li>labels   : List of labels.</li>
<li>styles   : str or list of line styles.</li>
<li>widths   : str or list of line widths.</li>
</ul>
</li>
</ul>
<p>kwargs are passed to plt.legend. Given arguments like anchor,ncol etc are preferred.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="add_colorbar" class="doc_header"><code>add_colorbar</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/s_plots.py#L321" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>add_colorbar</code>(<strong><code>ax</code></strong>=<em><code>None</code></em>, <strong><code>cmap_or_clist</code></strong>=<em><code>None</code></em>, <strong><code>N</code></strong>=<em><code>256</code></em>, <strong><code>ticks</code></strong>=<em><code>[0.16666666666666666, 0.5, 0.8333333333333334]</code></em>, <strong><code>ticklabels</code></strong>=<em><code>['r', 'g', 'b']</code></em>, <strong><code>vertical</code></strong>=<em><code>False</code></em>, <strong><code>fontsize</code></strong>=<em><code>8</code></em>)</p>
</blockquote>
<ul>
<li>Plots colorbar on a given axes. This axes should be only for colorbar. Returns None or throws ValueError for given colors.</li>
<li><strong>Parameters</strong><ul>
<li>ax         : Matplotlib axes object.</li>
<li>cmap_or_clist: List/array of colors in or colormap's name. If None(default), first tries to get latest <a href="/pivotpy/StaticPlots.html#quick_rgb_lines"><code>quick_rgb_lines</code></a> colormap and if no success, then <code>RGB_f</code> colorbar is added. If nothing works, matplotlib's default colormap is plotted.</li>
<li>N          : int, number of color points Default 256.</li>
<li>ticks      : List of tick values to show on colorbar in interval [0,1].</li>
<li>ticklabels : List of labels for ticks.</li>
<li>vertical   : Boolean, default is Fasle.</li>
<li>fontsize   : Default 8. Adjustable according to plot space.</li>
</ul>
</li>
<li><strong>Note</strong>: Use <code>'RGB_f'</code> to map colors (after) plotted in <a href="/pivotpy/StaticPlots.html#quick_rgb_lines"><code>quick_rgb_lines</code></a> and use <code>'RGB_m'</code> to plot DOS in same colors.</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pivotpy.s_plots</span> <span class="k">as</span> <span class="nn">sp</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span> 
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">)</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">init_figure</span><span class="p">(</span><span class="n">ncols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="n">add_colorbar</span><span class="p">(</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="s1">&#39;RGB&#39;</span><span class="p">,</span><span class="n">vertical</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">N</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>
<span class="n">add_colorbar</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">cmap_or_clist</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;r&#39;</span><span class="p">,</span><span class="s1">&#39;g&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span><span class="n">N</span><span class="o">=</span><span class="mi">21</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="color_wheel" class="doc_header"><code>color_wheel</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/s_plots.py#L384" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>color_wheel</code>(<strong><code>ax</code></strong>=<em><code>None</code></em>, <strong><code>xy</code></strong>=<em><code>(1, 1)</code></em>, <strong><code>scale</code></strong>=<em><code>0.12</code></em>, <strong><code>rlim</code></strong>=<em><code>(0.2, 1)</code></em>, <strong><code>N</code></strong>=<em><code>256</code></em>, <strong><code>colormap</code></strong>=<em><code>None</code></em>, <strong><code>ticks</code></strong>=<em><code>[0.16666666666666666, 0.5, 0.8333333333333334]</code></em>, <strong><code>labels</code></strong>=<em><code>['s', 'p', 'd']</code></em>, <strong><code>showlegend</code></strong>=<em><code>True</code></em>)</p>
</blockquote>
<ul>
<li>Returns cax i.e. color wheel axes.</li>
<li><strong>Parameters</strong><ul>
<li>ax        : Axes on which color wheel will be drawn. Auto created if not given.</li>
<li>xy        : (x,y) of center of wheel.</li>
<li>scale     : Scale of the cax internally generated by color wheel.</li>
<li>rlim      : Values in [0,1] interval, to make donut like shape.</li>
<li>N         : Number of segments in color wheel.</li>
<li>colormap : Matplotlib's color map name. Auto picks <code>RGB_f</code> and if fails, fallbacks to <code>viridis</code>.</li>
<li>ticks     : Ticks in fractions in interval [0,1].</li>
<li>labels    : Ticks labels.</li>
<li>showlegend: True or False.</li>
</ul>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">color_wheel</span><span class="p">(</span><span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">),</span><span class="n">scale</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span><span class="n">colormap</span><span class="o">=</span><span class="s1">&#39;hsv&#39;</span><span class="p">,</span><span class="n">ticks</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="p">],</span><span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Red&#39;</span><span class="p">,</span><span class="s1">&#39;Green&#39;</span><span class="p">,</span><span class="s1">&#39;Blue&#39;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Including-Atomic-and-Orbital-Projections">Including Atomic and Orbital Projections<a class="anchor-link" href="#Including-Atomic-and-Orbital-Projections"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_pros_data" class="doc_header"><code>get_pros_data</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/s_plots.py#L437" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_pros_data</code>(<strong><code>kpath</code></strong>=<em><code>None</code></em>, <strong><code>evals_set</code></strong>=<em><code>None</code></em>, <strong><code>pros_set</code></strong>=<em><code>None</code></em>, <strong><code>elements</code></strong>=<em><code>[[0]]</code></em>, <strong><code>orbs</code></strong>=<em><code>[[0]]</code></em>, <strong><code>interpolate</code></strong>=<em><code>False</code></em>, <strong><code>scale_data</code></strong>=<em><code>False</code></em>, <strong><code>n</code></strong>=<em><code>5</code></em>, <strong><code>k</code></strong>=<em><code>3</code></em>)</p>
</blockquote>
<ul>
<li>Returns selected elements/orbitals data.</li>
<li><strong>Parameters</strong><ul>
<li>kapath   : <a href="/pivotpy/XmlElementTree.html#export_vasprun"><code>export_vasprun</code></a>().kpath or <a href="/pivotpy/XmlElementTree.html#get_kpts"><code>get_kpts</code></a>().kpath.</li>
<li>evals_set: <a href="/pivotpy/XmlElementTree.html#export_vasprun"><code>export_vasprun</code></a>().bands.evals or <a href="/pivotpy/XmlElementTree.html#get_evals"><code>get_evals</code></a>().evals. If calculations are spin-polarized, it will be <code>...evals.SpinUp/SpinDown</code> for both.</li>
<li>pros_set : <code>export_vasprun().pro_bands.pros</code> or <a href="/pivotpy/XmlElementTree.html#get_bands_pro_set"><code>get_bands_pro_set</code></a>().pros. If calculations are spin-polarized, it will be <code>...pros.SpinUp/SpinDown</code> for both.</li>
<li>elements : Lists of list of ions to project on, could be <code>range(start,stop,step)</code> as well, remember that <code>stop</code> is not included in python. so <code>range(0,2)</code> will generate 0 and 1 indices.</li>
<li>orbs     : List of lists of orbitals indices.</li>
<li>scale_data : If True, normalizes projection data to 1.</li>
<li>interpolate: Deafult is false, if True, it will add n points between nearest kpoints.</li>
<li>n        : int, default is 5. Adds n points between nearest kpoints.</li>
<li>k        : int, order of interpolation, defualt is 3. <code>n &gt; k</code> should be hold.</li>
</ul>
</li>
<li><strong>Returns</strong><ul>
<li>A dictionary with keys 'kpath', 'evals', 'colors' that can be unpacked in next function's arguemnet.<ul>
<li>'kpath' : Given or interpolated kpath of shape (NKPTS,).</li>
<li>'evals' : Given or interpolated evals_set of shape (NKPTS,NBANDS).</li>
<li>'pros': An array of shape (NKPTS,NBANDS,n) where n is length of input elements list. If scale_data = True, normalizes this array to 1.</li>
</ul>
</li>
</ul>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="make_line_collection" class="doc_header"><code>make_line_collection</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/s_plots.py#L495" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>make_line_collection</code>(<strong><code>max_width</code></strong>=<em><code>None</code></em>, <strong><code>colors_list</code></strong>=<em><code>None</code></em>, <strong><code>rgb</code></strong>=<em><code>False</code></em>, <strong><code>uni_width</code></strong>=<em><code>False</code></em>, <strong><code>scale_color</code></strong>=<em><code>False</code></em>, <strong>**<code>pros_data</code></strong>)</p>
</blockquote>
<ul>
<li>Returns a tuple of line collections. If rgb = True (at len(orbs) = 3 in <a href="/pivotpy/StaticPlots.html#get_pros_data"><code>get_pros_data</code></a>), returns a tuple of two entries, multicolored line collection and RGB maximum values, otherwise return tuple of single colored multiple lines.</li>
<li><strong>Parametrs</strong><ul>
<li>**pros_data: Output dictionary from <a href="/pivotpy/StaticPlots.html#get_pros_data"><code>get_pros_data</code></a> containing kpath, evals and colors arrays.</li>
<li>max_width  : Default is None and max linwidth = 2.5. Max inewidth is scaled to max_width if an int of float is given.</li>
<li>colors_list: List of colors for multiple lines, length equal to 3rd axis length of colors.</li>
<li>rgb        : Default is False. If True and np.shape(colors)[-1] == 3, RGB line collection is returned in a tuple of length 1. Tuple is just to support iteration.</li>
<li>uni_width  : Default is False, If True, makes linewidth uniform at width = max_width/2.</li>
<li>scale_color: If True, normalizes each point's color value, as (0,0,0.5) --&gt; (0,0,1). If False, clips colors in range [0,1] but does not effect linewidth.</li>
</ul>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="plot_collection" class="doc_header"><code>plot_collection</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/s_plots.py#L572" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>plot_collection</code>(<strong><code>gpd_args</code></strong>, <strong><code>mlc_args</code></strong>, <strong><code>axes</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<ul>
<li>Plots line collection from the output of get_pros_data and make_line_collection on axes.</li>
<li><strong>Parameters</strong><ul>
<li>gpd_args: Dictionary of arguments from function <a href="/pivotpy/StaticPlots.html#get_pros_data"><code>get_pros_data</code></a>. Do not unpack it.</li>
<li>mlc_args: Dictionary of arguments from function <a href="/pivotpy/StaticPlots.html#make_line_collection"><code>make_line_collection</code></a>. Do not unpack it.</li>
<li>axes    : A single or list of matplotlib's Axes. len(list) should be equal to len(orbs) given in <a href="/pivotpy/StaticPlots.html#get_pros_data"><code>get_pros_data</code></a>. If axes = None, auto generated.</li>
</ul>
</li>
<li><strong>Returns</strong><ul>
<li>axes:  axes to return are spacially useful when axes = None, you can perform other actions on those axes. It will be a list of axes and all items could be same, depending on whether one are many axes were given/generated.</li>
</ul>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>We can use <a href="/pivotpy/StaticPlots.html#plot_collection"><code>plot_collection</code></a> together with arguments of <a href="/pivotpy/StaticPlots.html#get_pros_data"><code>get_pros_data</code></a>,<a href="/pivotpy/StaticPlots.html#make_line_collection"><code>make_line_collection</code></a>, see below.</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">time</span>
<span class="n">start</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span> 
<span class="kn">import</span> <span class="nn">pivotpy</span> <span class="k">as</span> <span class="nn">pp</span>
<span class="n">vr</span> <span class="o">=</span> <span class="n">pp</span><span class="o">.</span><span class="n">export_vasprun</span><span class="p">(</span><span class="s1">&#39;E:/Research/graphene_example/ISPIN_2/bands/vasprun.xml&#39;</span><span class="p">,</span><span class="n">elim</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">])</span>
<span class="n">k</span><span class="o">=</span><span class="n">vr</span><span class="o">.</span><span class="n">kpath</span>
<span class="n">ef</span><span class="o">=</span><span class="n">vr</span><span class="o">.</span><span class="n">tdos</span><span class="o">.</span><span class="n">E_Fermi</span>
<span class="n">en</span><span class="o">=</span><span class="n">vr</span><span class="o">.</span><span class="n">bands</span><span class="o">.</span><span class="n">evals</span><span class="o">.</span><span class="n">SpinUp</span><span class="o">-</span><span class="n">ef</span>
<span class="n">pros</span><span class="o">=</span><span class="n">vr</span><span class="o">.</span><span class="n">pro_bands</span><span class="o">.</span><span class="n">pros</span><span class="o">.</span><span class="n">SpinUp</span>
<span class="n">gpd_args</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">kpath</span><span class="o">=</span><span class="n">k</span><span class="p">,</span><span class="n">evals_set</span><span class="o">=</span><span class="n">en</span><span class="p">,</span><span class="n">pros_set</span><span class="o">=</span><span class="n">pros</span><span class="p">,</span><span class="n">scale_data</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">mlc_args</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">max_width</span> <span class="o">=</span> <span class="mf">2.5</span><span class="p">,</span><span class="n">colors_list</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span><span class="n">rgb</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span><span class="n">uni_width</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">scale_color</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pivotpy.s_plots</span> <span class="k">as</span> <span class="nn">sp</span> 
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span> 
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;seaborn&#39;</span><span class="p">)</span>
<span class="n">axs</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">init_figure</span><span class="p">(</span><span class="n">ncols</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mf">2.6</span><span class="p">),</span><span class="n">sharey</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">axc</span> <span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_figure</span><span class="p">()</span><span class="o">.</span><span class="n">add_axes</span><span class="p">([</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">0.3</span><span class="p">,</span><span class="mf">0.04</span><span class="p">])</span>

<span class="n">gpd_args</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">elements</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]],</span><span class="n">orbs</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">],[</span><span class="mi">2</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">]])</span>
<span class="n">mlc_args</span><span class="p">[</span><span class="s1">&#39;colors_list&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">0.4</span><span class="p">)]</span>
<span class="n">plot_collection</span><span class="p">(</span><span class="n">gpd_args</span><span class="p">,</span><span class="n">mlc_args</span><span class="p">,</span><span class="n">axes</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">sp</span><span class="o">.</span><span class="n">add_legend</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;C-s&#39;</span><span class="p">,</span><span class="s1">&#39;C-pz&#39;</span><span class="p">,</span><span class="s1">&#39;C-px+py&#39;</span><span class="p">],</span><span class="n">widths</span><span class="o">=</span><span class="mf">2.5</span><span class="p">,</span><span class="n">colors</span><span class="o">=</span><span class="n">mlc_args</span><span class="p">[</span><span class="s1">&#39;colors_list&#39;</span><span class="p">])</span>

<span class="n">gpd_args</span><span class="p">[</span><span class="s1">&#39;orbs&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]]</span>
<span class="n">plot_collection</span><span class="p">(</span><span class="n">gpd_args</span><span class="p">,</span><span class="n">mlc_args</span><span class="p">,</span><span class="n">axes</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

<span class="n">mlc_args</span><span class="p">[</span><span class="s1">&#39;uni_width&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">plot_collection</span><span class="p">(</span><span class="n">gpd_args</span><span class="p">,</span><span class="n">mlc_args</span><span class="p">,</span><span class="n">axes</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

<span class="n">_</span> <span class="o">=</span> <span class="p">[</span><span class="n">sp</span><span class="o">.</span><span class="n">modify_axes</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span> <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="n">axs</span><span class="p">]</span>
<span class="n">sp</span><span class="o">.</span><span class="n">add_colorbar</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axc</span><span class="p">,</span><span class="n">cmap_or_clist</span> <span class="o">=</span> <span class="n">mlc_args</span><span class="p">[</span><span class="s1">&#39;colors_list&#39;</span><span class="p">],</span><span class="n">ticklabels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;C-s&#39;</span><span class="p">,</span><span class="s1">&#39;C-p&#39;</span><span class="p">,</span><span class="s1">&#39;C-d&#39;</span><span class="p">],</span><span class="n">ticks</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">wspace</span><span class="o">=</span><span class="mf">0.05</span><span class="p">)</span>
<span class="n">txts</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Default/s,pz,px+py&#39;</span><span class="p">,</span><span class="s1">&#39;uni_width=False/s,p,d&#39;</span><span class="p">,</span><span class="s1">&#39;uni_width=True/s,p,d&#39;</span><span class="p">]</span>
<span class="n">_</span> <span class="o">=</span> <span class="p">[</span><span class="n">sp</span><span class="o">.</span><span class="n">add_text</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span><span class="n">txts</span><span class="o">=</span><span class="n">txt</span><span class="p">,</span><span class="n">xs</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span> <span class="k">for</span> <span class="n">ax</span><span class="p">,</span><span class="n">txt</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">axs</span><span class="p">,</span><span class="n">txts</span><span class="p">)]</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Executed in </span><span class="si">{}</span><span class="s1"> seconds.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span><span class="o">-</span><span class="n">start</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>Based on <a href="/pivotpy/StaticPlots.html#get_pros_data"><code>get_pros_data</code></a>,<a href="/pivotpy/StaticPlots.html#make_line_collection"><code>make_line_collection</code></a> and <a href="/pivotpy/StaticPlots.html#plot_collection"><code>plot_collection</code></a>, below are two functions <a href="/pivotpy/StaticPlots.html#quick_rgb_lines"><code>quick_rgb_lines</code></a> and <a href="/pivotpy/StaticPlots.html#quick_color_lines"><code>quick_color_lines</code></a>,which can be used without any hassel of changing and passing dictionary of arguments from one function to other. The difference between two is that <a href="/pivotpy/StaticPlots.html#quick_rgb_lines"><code>quick_rgb_lines</code></a> works with three <code>elemenents</code> only and generates a single variable color and variable thickness line, while <a href="/pivotpy/StaticPlots.html#quick_color_lines"><code>quick_color_lines</code></a> plots single colored as many lines as len(elements) with variable thickness.</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="quick_rgb_lines" class="doc_header"><code>quick_rgb_lines</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/s_plots.py#L646" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>quick_rgb_lines</code>(<strong><code>path_evr</code></strong>=<em><code>None</code></em>, <strong><code>elements</code></strong>=<em><code>[[], [], []]</code></em>, <strong><code>orbs</code></strong>=<em><code>[[], [], []]</code></em>, <strong><code>labels</code></strong>=<em><code>['', '', '']</code></em>, <strong><code>ax</code></strong>=<em><code>None</code></em>, <strong><code>skipk</code></strong>=<em><code>None</code></em>, <strong><code>elim</code></strong>=<em><code>[]</code></em>, <strong><code>max_width</code></strong>=<em><code>None</code></em>, <strong><code>ktick_inds</code></strong>=<em><code>[0, -1]</code></em>, <strong><code>ktick_vals</code></strong>=<em><code>['$\\Gamma$', 'M']</code></em>, <strong><code>kseg_inds</code></strong>=<em><code>[]</code></em>, <strong><code>E_Fermi</code></strong>=<em><code>None</code></em>, <strong><code>figsize</code></strong>=<em><code>(3.4, 2.6)</code></em>, <strong><code>txt</code></strong>=<em><code>None</code></em>, <strong><code>xytxt</code></strong>=<em><code>[0.2, 0.9]</code></em>, <strong><code>ctxt</code></strong>=<em><code>'black'</code></em>, <strong><code>uni_width</code></strong>=<em><code>False</code></em>, <strong><code>interpolate</code></strong>=<em><code>False</code></em>, <strong><code>spin</code></strong>=<em><code>'both'</code></em>, <strong><code>n</code></strong>=<em><code>5</code></em>, <strong><code>k</code></strong>=<em><code>3</code></em>, <strong><code>scale_color</code></strong>=<em><code>True</code></em>, <strong><code>scale_data</code></strong>=<em><code>True</code></em>, <strong><code>colorbar</code></strong>=<em><code>True</code></em>, <strong><code>color_matrix</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<ul>
<li>Returns axes object and plot on which all matplotlib allowed actions could be performed. In this function,orbs,labels,elements all have list of length 3. Inside list, sublists or strings could be any length but should be there even if empty.</li>
<li><strong>Parameters</strong><ul>
<li>path_evr   : path/to/vasprun.xml or output of <a href="/pivotpy/XmlElementTree.html#export_vasprun"><code>export_vasprun</code></a>. Auto picks in CWD.</li>
<li>elements   : List [[],[],[]] by default and plots s,p,d orbital of system..</li>
<li>orbs       : List [[r],[g],[b]] of indices of orbitals, could be empty, but shape should be same.</li>
<li>labels     : List [str,str,str] of projection labels. empty string should exist to maintain shape. Auto adds <code>↑</code>,<code>↓</code> for ISPIN=2. If a label is empty i.e. '', it will not show up in colorbar ticks or legend.</li>
<li>ax         : Matplotlib axes object, if not given, one is created.</li>
<li>skipk      : Number of kpoints to skip, default will be from IBZKPT.</li>
<li>kseg_inds : Points where kpath is broken.</li>
<li>elim       : [min,max] of energy range.</li>
<li>E_Fermi    : If not given, automatically picked from <a href="/pivotpy/XmlElementTree.html#export_vasprun"><code>export_vasprun</code></a>.</li>
<li>ktick_inds : High symmetry kpoints indices.abs</li>
<li>ktick_vals  : High Symmetry kpoints labels.</li>
<li>max_width  : Width to scale whole projections. if <code>uni_width=True, width=max_width/2</code>. Default is None and linewidth at any point = 2.5*sum(ions+orbitals projection of all three input at that point). Linewidth is scaled to max_width if an int or float is given.</li>
<li>figsize    : Tuple (width,height) in inches. Default (3.4.2.6) is article column's width.</li>
<li>txt        : Text on figure, if None, SYSTEM's name is printed.</li>
<li>xytxt      : [x_coord,y_coord] of text relative to axes.</li>
<li>ctxt       : color of text.</li>
<li>uni_width  : If True, width of bands kept uniform.</li>
<li>spin       : Plot spin-polarized for spin {'up','down','both'}. Default is both.</li>
<li>interpolate: Default is False, if True, bands are interpolated.</li>
<li>n          : int, number of points, default is 5.</li>
<li>k          : int, order of interpolation 0,1,2,3. Defualt 3. <code>n &gt; k</code> should be hold.</li>
<li>scale_color: Boolean. Default True, colors are scaled to 1 at each point. If False, clips colors in range [0,1] but does not effect linewidth.</li>
<li>scale_data : Default is True and normalizes projection data to 1. Has no visual effect if scale_color = True too.</li>
<li>colorbar   : Default is True. Displays a vertical RGB colorbar.</li>
<li>color_matrix: Only works if <code>scale_color==True</code>. 3x3 or 3x4 numpy array or list to transform from RGB to another space,provided that sum(color_matrix[i,:3]) &lt;= 1. 4th column, if given can be used to control the saturation,contrast and brightness as s,c,b = color_matrix[:,3] For simply changing the color intensity use np.diag([r,g,b]) with r,g,b interval in [0,1]. Try <code>pivotpy.color_matrix</code> as suggested color matrix and modify, which at s=0 returns gray scale.!</li>
</ul>
</li>
<li><strong>Returns</strong><ul>
<li>ax : matplotlib axes object with plotted projected bands.</li>
<li>Registers as colormap <code>RGB_m</code> to use in DOS to plot in same colors and <code>RGB_f</code> to display bands colorbar on another axes.<blockquote><p>Note: Two figures made by this function could be comapred quantitatively only if <code>scale_data=False, max_width=None, scale_color=False</code> as these parameters act internally on data.</p>
</blockquote>
</li>
</ul>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li><strong>quick_rgb_lines()</strong> is waraper around <code>make_line_collection(rgb=True)</code>. You can pass lists for <code>orbs</code>,<code>labels</code>, and <code>elements</code> each of length 3 which will be plotted on one axes. <ul>
<li>If you do not provide any arguemnts, this will create graph of s orbital of first ion.</li>
<li><code>elements</code> argument is special, you can pass index of element which will pick all ions of that type, or list(length=3) of indices of ions, e.g in <code>elements=[0,[0,1],2]</code> of system Ga<code>32</code>As<code>31</code>Bi<code>1</code>, 0 and 2 pick all ions of Ga and Bi respectively, while [0,1] will pick first two ions of Ga.</li>
<li>If <code>scale_color=True</code>, ecah point on plot is scaled to maximum color, if <code>False</code>, whole data is normalized if <code>scale_data=True</code>.</li>
<li><code>color_matrix</code> is to convert between color spaces and play around as you can. Sum of each row up yo 3 columns should be less than or equal to 1. 4th column of color_matrix is for saturation, contrast and brightness from top to bottom in order. Only works if <code>scale_color=True</code>.
{% include tip.html content='<code>pivotpy.color_matrix</code> and <code>pivotpy.gray_matrix</code> are 3x4 quick matrices.' %}{% include tip.html content='Use <code>RGB_m</code> for DOS and <code>RGB_f</code> for bands plotting in same color. <code>RGB_f</code> is auto-picked by <a href="/pivotpy/StaticPlots.html#add_colorbar"><code>add_colorbar</code></a>.' %}</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="s1">&#39;E:/Research/graphene_example/ISPIN_2/bands&#39;</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="c1">#plt.style.use(&#39;ggplot&#39;)</span>
<span class="kn">import</span> <span class="nn">pivotpy</span> <span class="k">as</span> <span class="nn">pp</span>
<span class="n">evr</span> <span class="o">=</span> <span class="n">pp</span><span class="o">.</span><span class="n">export_vasprun</span><span class="p">()</span>
<span class="n">args_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">path_evr</span><span class="o">=</span><span class="n">evr</span><span class="p">,</span><span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;s&#39;</span><span class="p">,</span><span class="s1">&#39;p$_z$&#39;</span><span class="p">,</span><span class="s1">&#39;p$_x$+p$_y$&#39;</span><span class="p">],</span><span class="n">xytxt</span><span class="o">=</span><span class="p">(</span><span class="mf">0.3</span><span class="p">,</span><span class="mf">0.9</span><span class="p">))</span>

<span class="n">axs</span><span class="o">=</span><span class="n">init_figure</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">ncols</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span><span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">sharey</span><span class="o">=</span><span class="kc">True</span><span class="p">);</span>
<span class="n">caxs</span> <span class="o">=</span> <span class="n">init_figure</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">ncols</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">sharey</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">top</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">quick_rgb_lines</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span><span class="o">**</span><span class="n">args_dict</span><span class="p">,</span><span class="n">spin</span><span class="o">=</span><span class="s1">&#39;up&#39;</span><span class="p">,</span><span class="n">txt</span><span class="o">=</span><span class="s1">&#39;scale_color=False&#39;</span><span class="p">,</span><span class="n">scale_color</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">pp</span><span class="o">.</span><span class="n">add_colorbar</span><span class="p">(</span><span class="n">caxs</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="n">quick_rgb_lines</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="o">**</span><span class="n">args_dict</span><span class="p">,</span><span class="n">scale_data</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">scale_color</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">spin</span><span class="o">=</span><span class="s1">&#39;down&#39;</span><span class="p">,</span><span class="n">txt</span><span class="o">=</span><span class="s1">&#39;scale_[color,data]=False&#39;</span><span class="p">)</span>
<span class="n">pp</span><span class="o">.</span><span class="n">add_colorbar</span><span class="p">(</span><span class="n">caxs</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="n">quick_rgb_lines</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span><span class="o">**</span><span class="n">args_dict</span><span class="p">,</span><span class="n">spin</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span><span class="n">txt</span><span class="o">=</span><span class="s1">&#39;scale_color=True&#39;</span><span class="p">)</span>
<span class="n">pp</span><span class="o">.</span><span class="n">add_colorbar</span><span class="p">(</span><span class="n">caxs</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>

<span class="c1">#plt.style.use([&#39;default&#39;,&#39;seaborn&#39;])</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">quick_rgb_lines</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span><span class="o">**</span><span class="n">args_dict</span><span class="p">,</span><span class="n">spin</span><span class="o">=</span><span class="s1">&#39;up&#39;</span><span class="p">,</span><span class="n">txt</span><span class="o">=</span><span class="s1">&#39;color_matrix&#39;</span><span class="p">,</span><span class="n">color_matrix</span><span class="o">=</span><span class="n">pp</span><span class="o">.</span><span class="n">color_matrix</span><span class="p">)</span>
<span class="n">pp</span><span class="o">.</span><span class="n">add_colorbar</span><span class="p">(</span><span class="n">caxs</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">quick_rgb_lines</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="o">**</span><span class="n">args_dict</span><span class="p">,</span><span class="n">spin</span><span class="o">=</span><span class="s1">&#39;down&#39;</span><span class="p">,</span><span class="n">txt</span><span class="o">=</span><span class="s1">&#39;color_matrix.T&#39;</span><span class="p">,</span><span class="n">color_matrix</span><span class="o">=</span><span class="n">pp</span><span class="o">.</span><span class="n">color_matrix</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
<span class="n">pp</span><span class="o">.</span><span class="n">add_colorbar</span><span class="p">(</span><span class="n">caxs</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">quick_rgb_lines</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span><span class="o">**</span><span class="n">args_dict</span><span class="p">,</span><span class="n">spin</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span><span class="n">txt</span><span class="o">=</span><span class="s1">&#39;gray_matrix&#39;</span><span class="p">,</span><span class="n">color_matrix</span><span class="o">=</span><span class="n">pp</span><span class="o">.</span><span class="n">gray_matrix</span><span class="p">)</span>
<span class="n">pp</span><span class="o">.</span><span class="n">add_colorbar</span><span class="p">(</span><span class="n">caxs</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="n">caxs</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_figure</span><span class="p">()</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s2">&quot;These colorbars are dynamically generated in sequence to above figure&#39;s axes&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="quick_color_lines" class="doc_header"><code>quick_color_lines</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/s_plots.py#L827" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>quick_color_lines</code>(<strong><code>path_evr</code></strong>=<em><code>None</code></em>, <strong><code>elements</code></strong>=<em><code>[[0]]</code></em>, <strong><code>orbs</code></strong>=<em><code>[[0]]</code></em>, <strong><code>labels</code></strong>=<em><code>['s']</code></em>, <strong><code>axes</code></strong>=<em><code>None</code></em>, <strong><code>skipk</code></strong>=<em><code>None</code></em>, <strong><code>kseg_inds</code></strong>=<em><code>[]</code></em>, <strong><code>elim</code></strong>=<em><code>[]</code></em>, <strong><code>colormap</code></strong>=<em><code>'gist_rainbow'</code></em>, <strong><code>scale_data</code></strong>=<em><code>False</code></em>, <strong><code>max_width</code></strong>=<em><code>None</code></em>, <strong><code>spin</code></strong>=<em><code>'both'</code></em>, <strong><code>ktick_inds</code></strong>=<em><code>[0, -1]</code></em>, <strong><code>ktick_vals</code></strong>=<em><code>['$\\Gamma$', 'M']</code></em>, <strong><code>E_Fermi</code></strong>=<em><code>None</code></em>, <strong><code>showlegend</code></strong>=<em><code>True</code></em>, <strong><code>figsize</code></strong>=<em><code>(3.4, 2.6)</code></em>, <strong><code>txt</code></strong>=<em><code>None</code></em>, <strong><code>xytxt</code></strong>=<em><code>[0.2, 0.85]</code></em>, <strong><code>ctxt</code></strong>=<em><code>'black'</code></em>, <strong><code>interpolate</code></strong>=<em><code>False</code></em>, <strong><code>n</code></strong>=<em><code>5</code></em>, <strong><code>k</code></strong>=<em><code>3</code></em>, <strong><code>legend_kwargs</code></strong>=<em><code>{'ncol': 4, 'anchor': (0, 1.05), 'handletextpad': 0.5, 'handlelength': 1, 'fontsize': 'small', 'frameon': False}</code></em>, <strong>**<code>subplots_adjust_kwargs</code></strong>)</p>
</blockquote>
<ul>
<li>Returns axes object and plot on which all matplotlib allowed actions could be performed. If given, elements, orbs, and labels must have same length. If not given, zeroth ion is plotted with s-orbital.</li>
<li><strong>Parameters</strong><ul>
<li>path_evr   : Path/to/vasprun.xml or output of <a href="/pivotpy/XmlElementTree.html#export_vasprun"><code>export_vasprun</code></a>. Auto picks in CWD.</li>
<li>elements   : List [[0],], by defualt and plot first ion's projections.</li>
<li>orbs       : List [[0],] lists of indices of orbitals, could be empty.</li>
<li>labels     : List [str,] of orbitals labels. len(labels)==len(orbs) must hold.  Auto adds <code>↑</code>,<code>↓</code> for ISPIN=2. If a label is empty i.e. '', it will not show up in legend.</li>
<li>axes       : Matplotlib axes object with one or many axes, if not given, auto created.</li>
<li>skipk      : Number of kpoints to skip, default will be from IBZKPT.</li>
<li>kseg_inds : Points where kpath is broken.</li>
<li>elim       : [min,max] of energy range.</li>
<li>E_Fermi    : If not given, automatically picked from <a href="/pivotpy/XmlElementTree.html#export_vasprun"><code>export_vasprun</code></a>.</li>
<li>ktick_inds : High symmetry kpoints indices.abs</li>
<li>ktick_vals  : High Symmetry kpoints labels.</li>
<li>colormap  : Matplotlib's standard color maps. Default is 'gist_ranibow'.</li>
<li>showlegend : True by defualt and displays legend relative to axes[0]. If False, it writes text on individual ax.</li>
<li>scale_data : Default is False, If True, normalize projection data to 1.</li>
<li>max_width  : Width to scale whole projections. Default is None and linewidth at any point on a line = 2.5*sum(ions+orbitals projection of the input for that line at that point). Linewidth is scaled to max_width if an int or float is given.</li>
<li>figsize    : Tuple (width,height) in inches. Default (3.4.2.6) is article column's width.</li>
<li>txt        : Text on figure, if None, SYSTEM's name is printed.</li>
<li>xytxt      : [x_coord,y_coord] of text relative to axes.</li>
<li>ctxt       : color of text.</li>
<li>spin       : Plot spin-polarized for spin {'up','down','both'}. Default is both.</li>
<li>interpolate: Default is False, if True, bands are interpolated.</li>
<li>n          : int, number of points, default is 5.</li>
<li>k          : int, order of interpolation 0,1,2,3. Defualt 3. <code>n &gt; k</code> should be hold.</li>
<li>legend_kwargs: Dictionary containing legend arguments.</li>
<li>**subplots_adjust_kwargs : plt.subplots_adjust parameters.</li>
</ul>
</li>
<li><strong>Returns</strong><ul>
<li>ax : matplotlib axes object with plotted projected bands.<blockquote><p>Note: Two figures made by this function could be comapred quantitatively only if <code>scale_data=False, max_width=None</code> as these parameters act internally on data.</p>
</blockquote>
</li>
</ul>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li><strong>quick_color_lines()</strong> is waraper around <code>make_line_collection(rgb=False,uni_width=False,scale_color = False)</code>. You can pass equal length lists for <code>orbs</code>,<code>labels</code>, and <code>elements</code> either with one axis or mutltiple axes of same length as <code>orbs</code>. <ul>
<li>If you do not provide any arguemnts, this will plots-orbital of first ion. </li>
<li><code>elements</code> argument is special, you can pass index of element which will pick all ions of that type, or list of indices of ions, e.g in <code>elements=[0,[0,1],2]</code> of system Ga<code>32</code>As<code>31</code>Bi<code>1</code>, 0 and 2 pick all ions of Ga and Bi respectively, while [0,1] will pick first two ions of Ga.</li>
<li>If your given <code>len(axis)=1</code>, all projections are plotted on single axis and you can tweak plot aesthetics, legend display etc. There are plenty of options.</li>
<li>If a label is empty i.e. '', it will not show up in legend. </li>
</ul>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Colors-Selection">Colors Selection<a class="anchor-link" href="#Colors-Selection"> </a></h2><p>Instead of giving custom colors, you can use matplotlib's colormaps to be consistent. Use</p>
<div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">colormaps</span><span class="p">()</span>
</pre></div>
<p>to see list of available color maps. To get a color array from a map, you can do the following:</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">import</span> <span class="n">cm</span>
<span class="n">colors</span>  <span class="o">=</span> <span class="n">cm</span><span class="o">.</span><span class="n">hsv</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="c1"># This will give you three colors from &#39;hsv&#39; map.</span>
</pre></div>
<p><strong>Note: </strong> A custom colormaps <code>RGB</code> is registered in session when you import pivotpy, which could be used when plotting DOS with bands of same color. An additional colormap <code>RGB_m</code> a at any moment would represent the latest <a href="/pivotpy/StaticPlots.html#quick_rgb_lines"><code>quick_rgb_lines</code></a> run.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="n">path</span><span class="o">=</span><span class="s1">&#39;E:/Research/graphene_example/ISPIN_2/bands&#39;</span>
<span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">pivotpy</span> 
<span class="kn">import</span> <span class="nn">importlib</span> <span class="k">as</span> <span class="nn">imp</span>
<span class="n">pp</span> <span class="o">=</span> <span class="n">imp</span><span class="o">.</span><span class="n">reload</span><span class="p">(</span><span class="n">pivotpy</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">axs</span><span class="o">=</span><span class="n">pp</span><span class="o">.</span><span class="n">init_figure</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">ncols</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mf">2.5</span><span class="p">),</span><span class="n">sharey</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">args_dict</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">elements</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]],</span><span class="n">orbs</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,[</span><span class="mi">2</span><span class="p">]],</span><span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;$p_z$&#39;</span><span class="p">,</span><span class="s1">&#39;$p_x$&#39;</span><span class="p">],</span><span class="n">hspace</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span><span class="n">wspace</span><span class="o">=</span><span class="mf">0.07</span><span class="p">,</span><span class="n">showlegend</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">quick_color_lines</span><span class="p">(</span><span class="n">axes</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="o">**</span><span class="n">args_dict</span><span class="p">,</span><span class="n">left</span><span class="o">=</span><span class="mf">0.06</span><span class="p">,</span><span class="n">colormap</span><span class="o">=</span><span class="s1">&#39;flag&#39;</span><span class="p">,</span><span class="n">spin</span><span class="o">=</span><span class="s1">&#39;up&#39;</span><span class="p">);</span>
<span class="n">quick_color_lines</span><span class="p">(</span><span class="n">axes</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="o">**</span><span class="n">args_dict</span><span class="p">,</span><span class="n">left</span><span class="o">=</span><span class="mf">0.06</span><span class="p">,</span><span class="n">colormap</span><span class="o">=</span><span class="s1">&#39;FCC&#39;</span><span class="p">,</span><span class="n">spin</span><span class="o">=</span><span class="s1">&#39;down&#39;</span><span class="p">,</span><span class="n">scale_data</span><span class="o">=</span><span class="kc">True</span><span class="p">);</span>
<span class="n">quick_color_lines</span><span class="p">(</span><span class="n">axes</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="o">**</span><span class="n">args_dict</span><span class="p">,</span><span class="n">left</span><span class="o">=</span><span class="mf">0.06</span><span class="p">,</span><span class="n">colormap</span><span class="o">=</span><span class="s1">&#39;RGB&#39;</span><span class="p">,</span><span class="n">spin</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">);</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Plotting-Density-of-States">Plotting Density of States<a class="anchor-link" href="#Plotting-Density-of-States"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="select_pdos" class="doc_header"><code>select_pdos</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/s_plots.py#L964" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>select_pdos</code>(<strong><code>tdos</code></strong>=<em><code>None</code></em>, <strong><code>pdos_set</code></strong>=<em><code>None</code></em>, <strong><code>ions</code></strong>=<em><code>[0]</code></em>, <strong><code>orbs</code></strong>=<em><code>[0]</code></em>, <strong><code>E_Fermi</code></strong>=<em><code>0</code></em>, <strong><code>interpolate</code></strong>=<em><code>False</code></em>, <strong><code>n</code></strong>=<em><code>5</code></em>, <strong><code>k</code></strong>=<em><code>3</code></em>)</p>
</blockquote>
<ul>
<li>Returns (interpolated/orginal) enrgy(N,), tdos(N,), and pdos(N,) of selected ions/orbitals.</li>
<li><strong>Parameters</strong><ul>
<li>tdos     : <a href="/pivotpy/XmlElementTree.html#export_vasprun"><code>export_vasprun</code></a>().tdos or <a href="/pivotpy/XmlElementTree.html#get_tdos"><code>get_tdos</code></a>().tdos. If calculations are spin-polarized, it will be <code>..tdos.SpinUp/SpinDown</code> for both. You need to apply this function twice for SpinUp and SpinDown separately.</li>
<li>pdos_set : <code>export_vasprun().pro_dos.pros</code> or <a href="/pivotpy/XmlElementTree.html#get_dos_pro_set"><code>get_dos_pro_set</code></a>().pros. If calculations are spin-polarized, it will be <code>...pros.SpinUp/SpinDown</code> for both.</li>
<li>ions     : List of ions to project on, could be <code>range(start,stop,step)</code> as well, remember that <code>stop</code> is not included in python. so <code>range(0,2)</code> will generate 0 and 1 indices.</li>
<li>orbs     : List of orbitals indices to pick.</li>
<li>E_Fermi  : Here it is zero. Needs to be input.</li>
<li>interpolate: Deafult is false, if True, it will add n points between nearest points.</li>
<li>n        : int, default is 5. Adds n points between nearest kpoints.</li>
<li>k        : int, order of interpolation, defualt is 3. <code>n &gt; k</code> should be hold.</li>
</ul>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="collect_dos" class="doc_header"><code>collect_dos</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/s_plots.py#L1002" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>collect_dos</code>(<strong><code>path_evr</code></strong>=<em><code>None</code></em>, <strong><code>elim</code></strong>=<em><code>[]</code></em>, <strong><code>elements</code></strong>=<em><code>[[0]]</code></em>, <strong><code>orbs</code></strong>=<em><code>[[0]]</code></em>, <strong><code>labels</code></strong>=<em><code>['s']</code></em>, <strong><code>E_Fermi</code></strong>=<em><code>None</code></em>, <strong><code>spin</code></strong>=<em><code>'both'</code></em>, <strong><code>interpolate</code></strong>=<em><code>False</code></em>, <strong><code>n</code></strong>=<em><code>5</code></em>, <strong><code>k</code></strong>=<em><code>3</code></em>)</p>
</blockquote>
<ul>
<li>Returns lists of energy,tdos, pdos and labels. If given,elements,orbs and labels must have same length. If not given, zeroth ions is collected with s-orbital.</li>
<li><strong>Parameters</strong>)<ul>
<li>path_evr   : Path/to/vasprun.xml or output of <a href="/pivotpy/XmlElementTree.html#export_vasprun"><code>export_vasprun</code></a>. Auto picks in CWD.</li>
<li>elim       : [min,max] of energy range.</li>
<li>E_Fermi    : If not given, automatically picked from <a href="/pivotpy/XmlElementTree.html#export_vasprun"><code>export_vasprun</code></a>.</li>
<li>elements   : List [[0],], by defualt and plot first ion's projections.</li>
<li>orbs       : List [[0],] lists of indices of orbitals, could be empty.</li>
<li>labels     : List [str,] of orbitals labels. len(labels)==len(orbs) must hold.  Auto adds <code>↑</code>,<code>↓</code> for ISPIN=2.</li>
<li>spin       : Plot spin-polarized for spin {'up','down','both'}. Default is both.</li>
<li>interpolate: Default is False, if True, bands are interpolated.</li>
<li>n          : int, number of points, default is 5.</li>
<li>k          : int, order of interpolation 0,1,2,3. Defualt 3. <code>n &gt; k</code> should be hold.</li>
</ul>
</li>
<li><strong>Returns</strong><ul>
<li>Energy : (N,1) size.</li>
<li>tdos   : (N,1) size or [(N,1),(N,1)] if spin polarized.</li>
<li>pdos   : [(N,1),(N,1),...], spin polarized is auto-fixed.</li>
<li>labels : ['label1,'label2',...] spin polarized is auto-fixed.</li>
<li>vr     : Exported vasprun.</li>
</ul>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>Providing labels while using <a href="/pivotpy/StaticPlots.html#collect_dos"><code>collect_dos</code></a> is important, it will automatically return spin up/down saymbols.</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="quick_dos_lines" class="doc_header"><code>quick_dos_lines</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/s_plots.py#L1093" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>quick_dos_lines</code>(<strong><code>path_evr</code></strong>=<em><code>None</code></em>, <strong><code>elements</code></strong>=<em><code>[[0]]</code></em>, <strong><code>orbs</code></strong>=<em><code>[[0]]</code></em>, <strong><code>labels</code></strong>=<em><code>['s']</code></em>, <strong><code>ax</code></strong>=<em><code>None</code></em>, <strong><code>elim</code></strong>=<em><code>[]</code></em>, <strong><code>include_dos</code></strong>=<em><code>'both'</code></em>, <strong><code>colormap</code></strong>=<em><code>'gist_rainbow'</code></em>, <strong><code>tdos_color</code></strong>=<em><code>(0.8, 0.95, 0.8)</code></em>, <strong><code>linewidth</code></strong>=<em><code>0.5</code></em>, <strong><code>fill_area</code></strong>=<em><code>True</code></em>, <strong><code>vertical</code></strong>=<em><code>False</code></em>, <strong><code>E_Fermi</code></strong>=<em><code>None</code></em>, <strong><code>figsize</code></strong>=<em><code>(3.4, 2.6)</code></em>, <strong><code>txt</code></strong>=<em><code>None</code></em>, <strong><code>xytxt</code></strong>=<em><code>[0.2, 0.85]</code></em>, <strong><code>ctxt</code></strong>=<em><code>'black'</code></em>, <strong><code>spin</code></strong>=<em><code>'both'</code></em>, <strong><code>interpolate</code></strong>=<em><code>False</code></em>, <strong><code>n</code></strong>=<em><code>5</code></em>, <strong><code>k</code></strong>=<em><code>3</code></em>, <strong><code>showlegend</code></strong>=<em><code>True</code></em>, <strong><code>legend_kwargs</code></strong>=<em><code>{'ncol': 4, 'anchor': (0, 1), 'handletextpad': 0.5, 'handlelength': 1, 'fontsize': 'small', 'frameon': False}</code></em>)</p>
</blockquote>
<ul>
<li>Returns ax object (if ax!=False) and plot on which all matplotlib allowed actions could be performed, returns lists of energy,tdos and pdos and labels. If given,elements,orbs colors, and labels must have same length. If not given, zeroth ions is plotted with s-orbital.</li>
<li><strong>Parameters</strong>)<ul>
<li>path_evr   : Path/to/vasprun.xml or output of <a href="/pivotpy/XmlElementTree.html#export_vasprun"><code>export_vasprun</code></a>. Auto picks in CWD.</li>
<li>elements   : List [[0],], by defualt and plot first ion's projections.</li>
<li>orbs       : List [[0],] lists of indices of orbitals, could be empty.</li>
<li>labels     : List [str,] of orbitals labels. len(labels)==len(orbs) must hold.  Auto adds <code>↑</code>,<code>↓</code> for ISPIN=2.</li>
<li>ax         : Matplotlib axes object, if None, one is created. If False, data lists are returned.</li>
<li>include_dos: One of {'both','tdos','pdos'}.</li>
<li>elim       : [min,max] of energy range.</li>
<li>E_Fermi    : If not given, automatically picked from <a href="/pivotpy/XmlElementTree.html#export_vasprun"><code>export_vasprun</code></a>.</li>
<li>colormap  : Matplotlib's standard color maps. Default is 'gist_ranibow'. Use 'RGB' if want to compare with <a href="/pivotpy/StaticPlots.html#quick_rgb_lines"><code>quick_rgb_lines</code></a> with 3 projection inputs (len(orbs)==3).</li>
<li>fill_area  : Default is True and plots filled area for dos. If False, plots lines only.</li>
<li>vertical   : False, If True, plots along y-axis.</li>
<li>showlegend : True by defualt.</li>
<li>figsize    : Tuple (width,height) in inches. Default (3.4.2.6) is article column's width.</li>
<li>txt        : Text on figure, if None, SYSTEM's name is printed.</li>
<li>xytxt      : [x_coord,y_coord] of text relative to axes.</li>
<li>ctxt       : color of text.</li>
<li>spin       : Plot spin-polarized for spin {'up','down','both'}. Default is both.</li>
<li>interpolate: Default is False, if True, bands are interpolated.</li>
<li>n          : int, number of points, default is 5.</li>
<li>k          : int, order of interpolation 0,1,2,3. Defualt 3. <code>n &gt; k</code> should be hold.</li>
<li>legend_kwargs: Dictionary to contain legend arguments to fix.</li>
</ul>
</li>
<li><strong>Returns</strong><ul>
<li>ax         : Matplotlib axes.</li>
</ul>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">quick_dos_lines</span><span class="p">(</span><span class="n">path_evr</span><span class="o">=</span><span class="s1">&#39;E:/Research/graphene_example/ISPIN_2/dos/vasprun.xml&#39;</span><span class="p">,</span><span class="n">vertical</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">fill_area</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">showlegend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">include_dos</span><span class="o">=</span><span class="s1">&#39;pdos&#39;</span><span class="p">,</span><span class="n">orbs</span><span class="o">=</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="n">elements</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;p&#39;</span><span class="p">,</span><span class="s1">&#39;s&#39;</span><span class="p">,</span><span class="s1">&#39;g&#39;</span><span class="p">],</span><span class="n">colormap</span><span class="o">=</span><span class="s1">&#39;RGB&#39;</span><span class="p">,</span><span class="n">elim</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span><span class="n">spin</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="High-Display-Image-in-Notebook">High Display Image in Notebook<a class="anchor-link" href="#High-Display-Image-in-Notebook"> </a></h3><p>The function below <a href="/pivotpy/StaticPlots.html#plt2html"><code>plt2html</code></a> is implemented for use in <code>pivotpy-dash</code> app to view and save SVG image directly from web app's interface. This also enables high display output in jupyter notebook.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="plt2html" class="doc_header"><code>plt2html</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/s_plots.py#L1245" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>plt2html</code>(<strong><code>plt_fig</code></strong>=<em><code>None</code></em>, <strong><code>transparent</code></strong>=<em><code>True</code></em>, <strong><code>dash_html</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<ul>
<li>Returns base64 encoded Image to display in notebook or HTML <svg> or plotly's dash_html_components.Img object.</li>
<li><strong>Parameters</strong><ul>
<li>plt_fig    : Matplotlib's figure instance, auto picks as well.</li>
<li>transparent: True of False for fig background.</li>
<li>dash_html  : Default is None which results in an image display in jupyter notebook.<ul>
<li>If True, returns html.Img object for plotly's dash.</li>
<li>If False, returns <svg> object to embed in HTML DOM.</li>
</ul>
</li>
</ul>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pivotpy</span> <span class="k">as</span> <span class="nn">pp</span> 
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">pp</span><span class="o">.</span><span class="n">quick_bplot</span><span class="p">(</span><span class="s2">&quot;E:/Research/graphene_example/ISPIN_1/bands/vasprun.xml&quot;</span><span class="p">,</span><span class="n">elim</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">9</span><span class="p">,</span><span class="mi">9</span><span class="p">]);</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt2html</span><span class="p">(</span><span class="n">dash_html</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">transparent</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">fig</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Below code snippest could be used to inclue svg in html document from a figure.</p>
<div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">plt2html</span><span class="p">(</span><span class="n">dash_html</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">html_str</span><span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">&lt;!DOCTYPE html&gt;</span>
<span class="s2">&lt;head&gt;&lt;/head&gt;</span>
<span class="s2">&lt;body&gt;</span>
<span class="s2">    &lt;div&gt;</span>
<span class="s2">    </span><span class="si">{}</span><span class="s2"></span>
<span class="s2">    &lt;/div&gt;</span>
<span class="s2">&lt;/body&gt;</span>
<span class="s2">&quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;fig.html&#39;</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">html_str</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="plt2text" class="doc_header"><code>plt2text</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/s_plots.py#L1278" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>plt2text</code>(<strong><code>plt_fig</code></strong>=<em><code>None</code></em>, <strong><code>width</code></strong>=<em><code>144</code></em>, <strong><code>vscale</code></strong>=<em><code>0.96</code></em>, <strong><code>colorful</code></strong>=<em><code>True</code></em>, <strong><code>invert</code></strong>=<em><code>False</code></em>, <strong><code>crop</code></strong>=<em><code>False</code></em>, <strong><code>outfile</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<p>Displays matplotlib figure in terminal as text. You should use a monospcae font like <code>Cascadia Code PL</code> to display image correctly. Use before plt.show().</p>
<ul>
<li><strong>Parameters</strong><ul>
<li>plt_fig: Matplotlib's figure instance. Auto picks if not given.</li>
<li>width  : Character width in terminal, default is 144. Decrease font size when width increased.</li>
<li>vscale : Useful to tweek aspect ratio. Default is 0.96 and prints actual aspect in <code>Cascadia Code PL</code>. It is approximately <code>2*width/height</code> when you select a single space in terminal.</li>
<li>colorful: Default is False, prints colored picture if terminal supports it, e.g Windows Terminal.</li>
<li>invert  : Defult is False, could be useful for grayscale image.</li>
<li>crop    : Default is False. Crops extra background, can change image color if top left pixel is not in background, in that case set this to False.</li>
<li>outfile: If None, prints to screen. Writes on a file.</li>
</ul>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="LOCPOT/CHG-Plot">LOCPOT/CHG Plot<a class="anchor-link" href="#LOCPOT/CHG-Plot"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="plot_potential" class="doc_header"><code>plot_potential</code><a href="https://github.com/massgh/pivotpy/tree/master/pivotpy/s_plots.py#L1336" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>plot_potential</code>(<strong><code>basis</code></strong>=<em><code>None</code></em>, <strong><code>e_or_m</code></strong>=<em><code>None</code></em>, <strong><code>operation</code></strong>=<em><code>'mean_z'</code></em>, <strong><code>ax</code></strong>=<em><code>None</code></em>, <strong><code>period</code></strong>=<em><code>None</code></em>, <strong><code>lr_pos</code></strong>=<em><code>(0.25, 0.75)</code></em>, <strong><code>lr_widths</code></strong>=<em><code>[0.5, 0.5]</code></em>, <strong><code>labels</code></strong>=<em><code>('$V(z)$', '$\\langle V \\rangle _{roll}(z)$', '$\\langle V \\rangle $')</code></em>, <strong><code>colors</code></strong>=<em><code>((0, 0.2, 0.7), 'b', 'r')</code></em>, <strong><code>annotate</code></strong>=<em><code>True</code></em>)</p>
</blockquote>
<ul>
<li>Returns tuple(ax,Data) where Data contains resultatnt parameters of averaged potential of LOCPOT.</li>
<li><strong>Parameters</strong><ul>
<li>basis  : <code>export_potential().basis</code>.</li>
<li>e_or_m : <code>epxort_potential().[e,m,m_x,m_y,m_z]</code> is 3D grid data. As <code>epxort_potential</code> is slow, so compute it once and then plot the output data.</li>
<li>operation: Default is 'mean_z'. What to do with provided volumetric potential data. Anyone of these 'mean_x','min_x','max_x','mean_y','min_y','max_y','mean_z','min_z','max_z'.</li>
<li>ax: Matplotlib axes, if not given auto picks.</li>
<li>period: Periodicity of potential in fraction between 0 and 1. For example if a slab is made of 4 super cells in z-direction, period=0.25.</li>
<li>lr_pos: Locations around which averages are taken.Default (0.25,0.75). Provide in fraction between 0 and 1. Center of period is located at these given fractions. Work only if period is given.</li>
<li>lr_widths: Default is [0.5,0.5], you may have slabs which have different lengths on left and right side. Provide a pair proportional to widths e.g (1,1), (1,1.1) etc. and it is auto normalized to 1. Works only if period is given.</li>
<li>labels: List of three labels for legend. Use plt.legend() or pp.add_legend() for labels to appear. First entry is data plot, second is its convolution and third is complete average.</li>
<li>colors: List of three colors for lines.</li>
<li>annotate: True by default, writes difference of right and left averages on plot.</li>
</ul>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

</div>
 

<script type="application/vnd.jupyter.widget-state+json">
{"state": {"1bf8148776b449baba848bede172d6f5": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "d030d83826ad4be690291a72591a21b4": {"model_name": "OutputModel", "model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "state": {"_dom_classes": ["output"], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_1bf8148776b449baba848bede172d6f5", "msg_id": "", "outputs": []}}, "d846e27253c447ba85583e6e4208f9ab": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "939c7298ee424c609eb32f5b3414c7e4": {"model_name": "OutputModel", "model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "state": {"_dom_classes": ["output"], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_d846e27253c447ba85583e6e4208f9ab", "msg_id": "", "outputs": []}}}, "version_major": 2, "version_minor": 0}
</script>

